(this.$WP=this.$WP||[]).push(["fsml46",(e,t)=>{"use strict";var n,i,a,r,o,s,l,u,d,c,m,g,v,k,p,h,f=e=>({request:{clientRequestTimestampMs:Date.now(),request:e}}),I=(e,t,n,i)=>{var a={pageUid:t,eventTimestampMs:Date.now(),...e},r=[];return n&&r.push({key:"user_id",value:n}),i&&r.push({key:"session_id",value:i}),0!==r.length&&(a={opaqueIds:r,...a}),a},b=()=>{var e=s(m),[,{uid:t}]=n.useContext(i),{userId:r,sessionId:o}=n.useContext(a);return n.useCallback((n=>{g.installLogger((t=>e(f(t)))),g.attemptToLog(I(n,t,r,o))}),[e,o,t,r])},N=()=>{var e=s(m),[,{uid:t}]=n.useContext(i),{userId:r,sessionId:o}=n.useContext(a);return n.useCallback((n=>{var i=I(n,t,r,o);return e(f([i])).then((e=>{var t,n,i;if(e.error||null==(t=e.data)||null==(n=t.Impressions_postInteractionsV2)||null==(i=n.response)||!i[0])throw new Error("Unable to log Interaction")}))}),[e,o,t,r])},y=()=>{var e=s(m);n.useEffect((()=>{g.installLogger((t=>e(f(t))));var t=requestIdleCallback((()=>{g.performLoggingAttempt()}));return()=>{cancelIdleCallback(t)}}),[e])},S=e=>({request:{clientRequestTimestampMs:Date.now(),request:e}}),L=()=>{var[,e]=l(v),[,{uid:t}]=n.useContext(i),{userId:o,sessionId:s}=n.useContext(a),{userAgentCategory:u}=n.useContext(r);return n.useCallback((n=>{var i={pageUid:t,userId:o,sessionId:s,userAgent:u,eventTimestampMs:Date.now(),team:"Other",...n};k.installLogger((t=>e({request:{clientRequestTimestampMs:Date.now(),request:t}}))),k.attemptToLog(i)}),[e,t,o,s,u])},w=()=>{var[,e]=l(v),[,{uid:t}]=n.useContext(i),{userId:o,sessionId:s}=n.useContext(a),{userAgentCategory:u}=n.useContext(r);return n.useCallback((n=>{var i={pageUid:t,userId:o,sessionId:s,userAgent:u,eventTimestampMs:Date.now(),team:"Other",...n};return e(S([i])).then((e=>{var t,n,i;if(e.error||null==(t=e.data)||null==(n=t.Impressions_postInteractionsV3)||null==(i=n.response)||!i[0])throw new Error("Interaction failed to be recorded")}))}),[e,s,t,u,o])},q=()=>{var[,e]=l(v);n.useEffect((()=>{k.installLogger((t=>e(S(t))));var t=requestIdleCallback((()=>{k.performLoggingAttempt()}));return()=>{cancelIdleCallback(t)}}),[e])},C=e=>{if(0===e.length)return Promise.resolve();var t=new URLSearchParams("?batched=true");return e.forEach(((e,n)=>{(e=>{var t=new URLSearchParams;return Object.entries(e).forEach((([e,n])=>{"eventId"!==e&&t.append(e,n)})),t})(e).forEach(((e,i)=>{void 0!==e&&t.append(`data[${n}][${i}]`,e)}))})),fetch("/GARecord",{method:"POST",body:t.toString(),credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"}}).catch((e=>{console.error(e)}))},A=()=>{h.installLogger((()=>Promise.resolve()))},V=()=>{h.installLogger(C)},T=e=>{var t={eventId:Math.random().toString()};e.forEach(((e,n)=>{t[n]=e})),h.attemptToLog(t)},_=e=>{try{var t;return(null==(t=e.match(/^\/([a-zA-Z0-9_]+)/))?void 0:t[1])||"Home"}catch(e){return"Unknown"}},x=()=>{var[{page:e,params:t},{uid:r}]=n.useContext(i),{userId:o}=n.useContext(a),s=(null==t?void 0:t.detailId)||void 0,l=(null==t?void 0:t.geoId)||void 0;return n.useCallback((t=>{var n,i="Unknown"===e?(e=>{try{var t,n;return(null==(t=e.match(/-d([0-9]+)/))?void 0:t[1])||(null==(n=e.match(/-g([0-9]+)/))?void 0:n[1])||void 0}catch(e){return}})(window.location.pathname):s||l||void 0;h.attemptToLog({gac:t.module,gaa:t.action,gal:t.context,gav:t.value,gani:t.nonInteraction,gasl:null!=(n=t.location)?n:i,gass:"Unknown"===e?_(window.location.pathname):e,gapu:r,gams:null!==o,eventId:Math.random().toString()})}),[e,s,l,r,o])},D=e=>{var t=x(),{module:i,action:a,context:r,value:o,location:s,nonInteraction:l}=e||{};return n.useCallback((()=>{i&&a&&t({module:i,action:a,context:r,value:o,location:s,nonInteraction:l})}),[t,i,a,r,o,s,l])};return[()=>{u=class{constructor(){this.backing=void 0,this.backing=[]}add(e){this.backing.push(e)}remove(e){this.backing=this.backing.filter((t=>e.every((e=>!o(t,e)))))}readAll(){return this.backing}},d=class{constructor(e){this.keyName=void 0,this.backup=void 0,this.keyName=e,this.backup=new u}add(e){try{var t=JSON.parse(localStorage.getItem(this.keyName)||"[]");t.push(e),localStorage.setItem(this.keyName,JSON.stringify(t))}catch(t){this.backup.add(e)}}remove(e){try{var t=this.readAll();localStorage.setItem(this.keyName,JSON.stringify(t.filter((t=>e.every((e=>!o(t,e)))))))}catch(t){this.backup.remove(e)}}readAll(){try{return JSON.parse(localStorage.getItem(this.keyName)||"[]")}catch(e){return this.backup.readAll()}}},c=class{constructor(e,t=1e3){this.locked=void 0,this.buffer=void 0,this.timeout=void 0,this.logger=void 0,this.cbId=void 0,this.performLoggingAttempt=()=>{if(null!==this.logger)if(this.locked)this.enqueueLoggingAttempt();else{var e=this.buffer.readAll();if(e.length>0){this.locked=!0;try{this.logger(e).then((()=>{this.buffer.remove(e)})).finally((()=>{this.locked=!1}))}catch(e){console.error(e),this.locked=!1}}}},this.buffer=e,this.logger=null,this.locked=!1,this.timeout=t,this.cbId=null}installLogger(e){this.logger=e}attemptToLog(e){this.buffer.add(e),this.enqueueLoggingAttempt()}enqueueLoggingAttempt(){null!==this.cbId&&(clearTimeout(this.cbId),this.cbId=null),this.cbId=setTimeout((()=>{this.performLoggingAttempt(),this.cbId=null}),this.timeout)}},(m=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogInteractions"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"request"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Impressions_InteractionsRequestInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"Impressions_postInteractionsV2"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"Variable","name":{"kind":"Name","value":"request"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"response"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":157}}')).__key=0xe635e385a1b2,g=new c(new d("interaction_mutation_buffer"),3e3),(v=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogInteractionsV3"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"request"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Impressions_UserInteractionsRequestInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"Impressions_postInteractionsV3"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"Variable","name":{"kind":"Name","value":"request"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"response"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":163}}')).__key=0xa49a813b509f,k=new c(new d("interactionV3_mutation_buffer"),3e3),(p=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogInteractionV4"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"InteractionV4Input"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"logInteractionV4"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"interaction"},"value":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}}}],"directives":[]}]}}],"loc":{"start":0,"end":119}}')).__key=0x790de86432c2,(h=new c(new d("interaction_buffer"),1e3)).installLogger(C),"undefined"!=typeof requestIdleCallback&&"undefined"!=typeof navigator&&"node.js"!==navigator.userAgent&&requestIdleCallback((()=>{h.performLoggingAttempt()})),e({LogInteractionV4:p,enqueue:T,mockLogger:A,unmockLogger:V,useBlockingInteractionLogger:N,useBlockingInteractionV3Logger:w,useGARecordCallback:D,useGARecorder:x,useInteractionLogger:b,useInteractionV3Logger:L,useSubmitInteractionBufferEffect:y,useSubmitInteractionV3BufferEffect:q})},[e=>n=e,e=>(i=e.Route,a=e.Visitor,r=e.Device),e=>o=e.default,e=>s=e.useStatelessMutation,e=>l=e.useMutation]]},["cDcdfi","2R4xv2","YwNsO_","OnmvvE","5X2em-"]]);
