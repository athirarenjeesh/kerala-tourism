(this.$WP=this.$WP||[]).push(["bk1Dsb",(e,i)=>{"use strict";var n,a,t,d,r,l,s,u,m=e=>{if(!e)return null;var{storedPaymentMethods:i}=e;if(!i)return null;var{storedCreditCards:n,defaultStoredPaymentMethod:a,offlineBillingAccount:t}=i;return n&&a?{cardInfo:n.reduce(((e,i)=>i&&i.numberTail&&i.cardType&&i.expiryMonth&&i.expiryYear&&i.storedCreditCardId?e.concat({acctNumberTail:i.numberTail,creditCardType:i.cardType,expMonth:i.expiryMonth,expYear:i.expiryYear,storedCardId:i.storedCreditCardId,firstName:null==t?void 0:t.firstName}):e),[]),defaultCardId:a.paymentMethodId,offlineFirstName:null==t?void 0:t.firstName}:null!=t&&t.firstName?{cardInfo:[],defaultCardId:null,offlineFirstName:null==t?void 0:t.firstName}:null},o=({billingAccountId:e})=>{var[i,s]=(({billingAccountId:e})=>{var{userId:i}=d(r);return l({query:u,variables:{request:{userId:i,billingAccountId:e}},pause:!e||!i},m)})({billingAccountId:e}),{data:o}=i,[c,v]=n(null);return a((()=>{var e,i=null==o||null==(e=o.cardInfo)?void 0:e.find((e=>e.storedCardId===(null==o?void 0:o.defaultCardId)));i&&v(i)}),[o]),t((()=>{var e;return[{...i,data:c||{firstName:null==i||null==(e=i.data)?void 0:e.offlineFirstName}},s]}),[c,s,i])};return[()=>{(s=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"StoredPaymentMethodsQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"request"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"StoredPaymentMethodsRequestInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"storedPaymentMethods"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"Variable","name":{"kind":"Name","value":"request"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"storedCreditCards"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"cardholderName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"cardType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"expiryMonth"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"expiryYear"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"enabled"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"numberTail"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"storedCreditCardId"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"defaultStoredPaymentMethod"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"paymentMethodId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"paymentMethodType"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"offlineBillingAccount"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"firstName"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":429}}')).__key=4010559302053,u=s,e("useDefaultPaymentData",o)},[e=>(n=e.useState,a=e.useEffect,t=e.useMemo,d=e.useContext),e=>r=e.Visitor,e=>l=e.default]]},["cDcdfi","2R4xv2","kYmwth"]]);
