(this.$WP=this.$WP||[]).push(["uDwkMq",(e,a)=>{"use strict";var t,l,r,i,n,u,s,m,c,o,d,v,p,f,_,h,E,g,N,b,k,T,x,C,y,S,D,L,P,R={firstName:{value:"",isRequired:!0},lastName:{value:"",isRequired:!0},phoneNumber:{value:"",isRequired:!0},email:{value:"",isRequired:!0}},q=()=>s(R,S),I=({children:e})=>{var a=D();return t.createElement(P.Provider,{value:a},e)},w="fskyt F-",O=(e,a)=>{var{state:t,update:l}=r(P),i=t[e];u((()=>{i.isDirty||i.value===a||l(e,{value:a})}),[e,a,l])},B=({initialFirstName:e="",initialLastName:a="",initialEmail:l="",initialPhoneNumber:u="",checkoutType:s,onChangeCallback:m,isModal:c,allowEmailEdit:o=!1,freeTrialSubscription:d=!1,optimusCashbackSelected:S=!1,toggleCashbackRewardSMSOptIn:D,isCashbackRewardSMSOptIn:L=!1})=>{var{state:{firstName:R,lastName:q,phoneNumber:I,email:B},update:F}=r(P),V=m?(e,a)=>{m(),F(e,a)}:F,{localize:A}=N(),[M,H]=i(R.value),[U,z]=i(q.value),[K,W]=i(I.value),[$,G]=i(B.value),[,{uid:Y}]=r(f),{funnelKey:j}=r(_),J=b(),Q=k(),X=n((e=>{var a={formFieldChange:{funnelKey:j,pageviewUid:Y,formName:"TravelerDetails",fieldName:e.field}};switch(s){case"STANDALONE":Q({OptimusStandaloneCheckout:a});break;case"HOTEL":Q({OptimusHotelCheckout:a})}}),[s,j,Q,Y]),Z=n((()=>{var t=[{fieldName:"firstName",isPrefilled:!!e},{fieldName:"lastName",isPrefilled:!!a},{fieldName:"email",isPrefilled:!!l},{fieldName:"phoneNumber",isPrefilled:!!u}],r=t.some((e=>e.isPrefilled));s&&J({optimusCheckoutForm:{flow:s,funnelKey:j,pageviewUid:Y,formName:"TRAVELERDETAILS",isPrefilled:r,formFields:t}})}),[s,j,J,e,a,l,u,Y]);O("firstName",e),O("lastName",a),O("email",l),O("phoneNumber",u);var ee=c?"supporting-03":"title-05";return t.createElement(v,{onIsVisibleCallback:Z},t.createElement("form",null,t.createElement(p,{variant:c?"title-04":"title-03",elementType:"h2",marginBottom:"spacing-04"},t.createElement(g,{id:"plus_checkout_traveler_details_heading"})),t.createElement(h,{space:"spacing-03"},t.createElement(E,{display:"flex",flexDirection:["column","column","row"],alignItems:"stretch"},t.createElement("div",{className:w},t.createElement(C,{id:"tdf-first",label:t.createElement(p,{variant:ee},t.createElement(T,null,t.createElement(g,{id:"plus_checkout_first_name_field"}))),type:"text",value:R.value,onChange:e=>V("firstName",{value:e.currentTarget.value}),errorText:R.isError?A.string("plus_checkout_error_state_first_name_v2"):void 0,onBlur:e=>{e.currentTarget.value!==M&&(X({field:"FirstName"}),H(e.currentTarget.value)),F("firstName",{isDirty:!0})}})),t.createElement(E,{marginTop:"spacing-03",marginLeft:"spacing-03"}),t.createElement("div",{className:w},t.createElement(C,{id:"tdf-last",label:t.createElement(p,{variant:ee},t.createElement(T,null,t.createElement(g,{id:"plus_checkout_last_name_field"}))),type:"text",value:q.value,onChange:e=>V("lastName",{value:e.currentTarget.value}),errorText:q.isError?A.string("plus_checkout_error_state_last_name_v2"):void 0,onBlur:e=>{e.currentTarget.value!==U&&(X({field:"LastName"}),z(e.currentTarget.value)),F("lastName",{isDirty:!0})}}))),t.createElement(h,{space:"spacing-01"},t.createElement(C,{id:"tdf-phone",label:t.createElement(p,{variant:ee},t.createElement(T,null,t.createElement(g,{id:"plus_checkout_phone_number_field"}))),type:"tel",value:I.value,onChange:e=>V("phoneNumber",{value:e.currentTarget.value}),errorText:I.isError?A.string("plus_checkout_error_state_phone_number"):void 0,onBlur:e=>{e.currentTarget.value!==K&&(X({field:"PhoneNumber"}),W(e.currentTarget.value)),F("phoneNumber",{isDirty:!0})}}),S&&t.createElement(y,{value:"cashbackRewardSMSOptIn",checked:L,label:t.createElement(p,{variant:"supporting-01",color:"secondaryText"},t.createElement(g,{id:"optimus.checkout.vf_sms_opt_in_checkbox"})),onToggle:D})),t.createElement(x,null,t.createElement(C,{id:"tdf-email",label:t.createElement(p,{variant:ee},o?t.createElement(T,null,t.createElement(g,{id:"plus_checkout_email_field"})):t.createElement(g,{id:"plus_checkout_email_field"})),type:"email",value:B.value,onChange:e=>V("email",{value:e.currentTarget.value}),errorText:B.isError?A.string("plus_checkout_error_state_email"):void 0,onBlur:e=>{e.currentTarget.value!==$&&(X({field:"Email"}),G(e.currentTarget.value)),F("email",{isDirty:!0})},helperText:(()=>{var e;if(null!=(e=B.value)&&e.length)return"HOTEL"===s?A.string("plus_checkout_hotel_email_disclaimer_text",{email:B.value}):d?A.string("plus_free_trial_checkout_membership_email_disclaimer_text",{email:B.value}):A.string("plus_checkout_subscription_email_disclaimer_text",{email:B.value})})(),readOnly:!o})))))};return[()=>{S={firstName:c,lastName:c,phoneNumber:o,email:d},D=q,L={state:{firstName:m.required,lastName:m.required,phoneNumber:m.required,email:m.required},update:()=>{},validate:()=>!1,setHasError:()=>{},resetAll:()=>{}},e({TravelerDetails:P=l(L),TravelerDetailsProvider:I,default:B})},[e=>(t=e.default,l=e.createContext,r=e.useContext,i=e.useState,n=e.useCallback,u=e.useEffect),e=>(s=e.default,m=e.defaults),e=>(c=e.nameValidator,o=e.phoneValidator,d=e.emailValidator),e=>v=e.IsVisibleOnce,e=>p=e.default,e=>f=e.Route,e=>_=e.FunnelTracking,e=>(h=e.Stack,E=e.Box),e=>(g=e.default,N=e.useLocalize),e=>b=e.useImpressionLogger,e=>k=e.useInteractionLogger,e=>(T=e.RequiredLabel,x=e.SensitiveInformationBlocker),e=>C=e.TextInput,e=>y=e.Checkbox]]},["cDcdfi","8fiGCU","ivxRiU","BLrxBS","VP50Wc","2R4xv2","ETqDaL","SzaY02","0DsHEV","30t50h","fsml46","AFIA6D","7bbexq","MsxLpS"]]);
