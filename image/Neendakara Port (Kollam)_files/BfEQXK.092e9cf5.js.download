(this.$WP=this.$WP||[]).push(["BfEQXK",(e,t)=>{"use strict";var r,n,i,c,s,o,a,l,u,d,k,m,g,x=e=>!0===e?"User":!1===e?"Def":"UNKNOWN",C=e=>{e?o.set(d,e,18e5):o.remove(d)},p={trackingKey:"DEFAULT",trackingTitle:"DEFAULT"},v=(...e)=>e.map((e=>String(e))).join("-"),f=e=>null!=e&&""!==e&&"DEPRECATED"!==e.toUpperCase(),y=e=>t=>{var{context:r,type:n,forceImmediateCallbacks:i}=t,{trackingKey:c,trackingTitle:s,clientContext:o,clientParameter:a,scrollDirection:l,userState:u}=r,d={trackingKey:c,trackingTitle:s,clientParameter:a,clientContext:o,userState:u};if(f(r.trackingKey))switch(n){case"click":null!=i?e.logClickImmediate(d,i.onSuccess,i.onError):e.logClick(d);break;case"scroll":e.logScroll({...{...d,direction:l}});break;default:console.error("Unexpected event type",t.type,t)}},S=()=>{var e=(()=>{var e=n(),t=i(),l=r.useContext(a),u=r.useMemo((()=>l?(e=>{var t;if(e){var{hotelCommerce:r,attractionCommerce:n,restaurantCommerce:i}=e;if(!(r||n||i))return;var c=e.lastUpdated;r&&(t={...t,h:{ci:r.checkIn,co:r.checkOut,dt:x(null==r?void 0:r.setByUser),tt:c}}),n&&(t={...t,a:{ci:n.startDate,co:n.endDate,dt:x(null==n?void 0:n.setByUser),tt:c}}),i&&(t={...t,r:{ci:i.reservationTime?i.reservationTime.split("T")[0]:null,dt:x(null==i?void 0:i.setByUser),tt:c}})}return t})(l):void 0),[l]),{sessionId:k}=r.useContext(c),[{path:g}]=r.useContext(s),p=o.get(d),f=r.useMemo((()=>({logClick:t=>(C(k),!m.exists(v("click",k,g,t.trackingKey,t.clientContext,t.clientParameter))&&(e({AppPresentation:{click:{...t,sessionId:k,dates:u}}}),!0)),logClickImmediate:(e,r,n)=>(C(k),m.exists(v("click",k,g,e.trackingKey,e.clientContext,e.clientParameter))?(r(),!1):(t({AppPresentation:{click:{...e,sessionId:k,dates:u}}}).then(r,n),!0)),logNewSession(t){C(k),e({AppPresentation:{newSession:{...t,sessionId:k,dates:u}}})},logScroll:t=>(C(k),!m.exists(v("scroll",k,g,t.trackingKey,t.clientContext,t.clientParameter))&&(e({AppPresentation:{sectionScroll:{...t,sessionId:k,dates:u}}}),!0))})),[k,g,e,t,u]);return r.useEffect((()=>{if(k){var e=o.get(d);e&&e===k||f.logNewSession({sessionId:k,deepLink:g}),C(k)}else C(null)}),[k,u,g,f,p]),f})(),t=r.useContext(g);return r.useCallback(t(e),[e,t])},h=e=>{var{context:t}=r.useContext(k),n=S();return r.useMemo((()=>({trackClick(r){n({type:"click",context:{...t,...e,...r}})},trackClickImmediate({details:r,callbacks:{onSuccess:i,onError:c}}){n({type:"click",context:{...t,...e,...r},forceImmediateCallbacks:{onSuccess:i,onError:c}})}})),[t,e,n])},E=({context:e,children:t})=>{var n=S(),i=function(e,t=u,n=l){var{timeout:i,threshold:c,rootMargin:s,onceOnly:o}={...u,...t},[a,d]=r.useState(!1),[k,m]=r.useState(!1);return r.useEffect((()=>{var t;return a&&(t=setTimeout((()=>{k&&o||(e(),m(!0))}),i)),()=>{clearTimeout(t)}}),[a,k,o,e,i]),n(d,s,c)}(r.useCallback((()=>{n({type:"scroll",context:e})}),[n,e]));return i&&r.createElement("span",{"data-ft":!0,ref:i},t)},T=e=>{var{trackingKey:t,trackingTitle:n,context:i,noVisibility:c=!1,scrollDirection:s=null,children:o}=e,a=r.useMemo((()=>({context:{scrollDirection:s,trackingKey:t,trackingTitle:n,...i}})),[i,s,t,n]);return f(t)?r.createElement(k.Provider,{value:a},c?o:r.createElement(E,{context:a.context},o)):o},I=({context:e,impressions:t})=>r.useEffect((()=>{}),[e,t]);return[()=>{var t;u={rootMargin:0,threshold:0,timeout:500,onceOnly:!0},d="APS_SESSION_1.1",k=r.createContext({context:p}),t=new Set,m={exists(e){var r=t.has(e);return r||(t.add(e),setTimeout((()=>{t.delete(e)}),5e3)),r},reset(){t.clear()}},g=r.createContext(y),e({FusionTracking:T,isValidTrackingKey:f,useConsoleLogImpressions:I,useFusionTracking:h})},[e=>r=e,e=>(n=e.useInteractionLogger,i=e.useBlockingInteractionLogger),e=>(c=e.Visitor,s=e.Route),e=>o=e.default,e=>a=e.default,e=>l=e.useVisibleEffect]]},["cDcdfi","fsml46","2R4xv2","jaCyxS","i8dCG0","BLrxBS"]]);
