(this.$WP=this.$WP||[]).push(["gzFIw8",(e,n)=>{"use strict";var i,a,t,d,l,r,u,o,s,m,c,v,k,p,N,g,S,b,f,y=()=>{var[{params:e}]=t(o),n=(e=>null==e?void 0:e.tripId)(e);return d((()=>n&&n.match(/^[0-9]+$/)?{Trip:n}:{}),[n])},I=({children:e,trackingUrl:n})=>a.createElement(p.Provider,{value:n},e),D=(e,n)=>{var{domainName:i}=t(s),a=t(p);return!n&&a&&e?e.startsWith("/")?`${a}https://${i}${e}`:`${a}${e}`:e},T=()=>{var[e,n]=r(!1);return u((()=>{var e=setTimeout((()=>{n(!0)}),1e4);return()=>{clearTimeout(e),n(!1)}})),e};function V(){var e,[{params:n,page:a},{uid:t}]=i.useContext(o),d=n.geoId?n.geoId:1,{locale:l}=i.useContext(s),{id:r,userAgentCategory:u}=i.useContext(m),v="MOBILE"===u?"MOBILE_WEB":"DESKTOP",k={uniqueId:r,puid:t},[p]=c({query:S,variables:{geo:d,localeCode:l.code,platform:v,tracking:k},pause:"Tourism"!==a});return!(null==p||null==(e=p.data)||!e.sponsoredHome)}function F(){var[e]=i.useContext(o),n="Articles"===e.page?`${String(e.params.forumPostId)}`:"",[{data:a}]=c({query:f,variables:{articleId:n},pause:"Articles"!==e.page});return i.useMemo((()=>{var e,n=null==a||null==(e=a.document)?void 0:e.content,i=null!=n&&n.sponsorInfo?n.sponsorInfo:null;if(!i)return!1;var t=new Date,{useSponsorInfo:d,campaignStartDate:l,campaignEndDate:r}=i;return null!=d&&null!=l&&null!=r&&t<=new Date(r)&&t>=new Date(l)}),[a])}function C(e,n="",i=!0){var[a,t]=r(0);return u((()=>{if(i){var n=setInterval((()=>{t((e=>e+1))}),e);return()=>clearInterval(n)}return()=>{}}),[n,t,e,i]),n+a.toString()}function h(e=""){var[n,i]=r(0);return u((()=>{var e=()=>{"visible"===document.visibilityState&&i((e=>e+1))};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)}),[]),e+n.toString()}function O(){var e=v();return parseInt(e,10)>=50}return e({useAboveTheFold:O,useInterval:C,usePageVisibility:h,useSponsoredArticle:F,useSponsoredGeo:V}),[()=>{k=y,p=l(""),N=T,(g=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"SponsoredGeoQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"geo"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"localeCode"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"platform"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"PlatformEnumInput"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"tracking"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"SponsorshipTrackingInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sponsoredHome"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"sponsorshipRequest"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"geo"},"value":{"kind":"Variable","name":{"kind":"Name","value":"geo"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"localeCode"},"value":{"kind":"Variable","name":{"kind":"Name","value":"localeCode"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"platform"},"value":{"kind":"Variable","name":{"kind":"Name","value":"platform"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"tracking"},"value":{"kind":"Variable","name":{"kind":"Name","value":"tracking"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"fields"},"value":{"kind":"ListValue","values":[]}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"destination"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":359}}')).__key=0xce4b51be8a66,S=g,(b=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"SponsoredArticleQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"articleId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"document"},"name":{"kind":"Name","value":"RichContent_getDocumentsByIdSingle"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requests"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"space"},"value":{"kind":"Variable","name":{"kind":"Name","value":"articleId"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"status"},"value":{"kind":"EnumValue","value":"PUBLISHED"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"content"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"RichContent_SlateJsContent"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sponsorInfo"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"useSponsorInfo"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"campaignStartDate"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"campaignEndDate"},"arguments":[],"directives":[]}]}}]}}]}}]}}]}}],"loc":{"start":0,"end":347}}')).__key=0xd32fbd8deb03,f=b,e({AdClickTrackingUrlProvider:I,useAboveTheFold:O,useAdServerClickTracking:D,useAdTimeout:N,useCustomTripTargeting:k,useInterval:C,usePageVisibility:h,useSponsoredArticle:F,useSponsoredGeo:V})},[e=>(i=e,a=e.default,t=e.useContext,d=e.useMemo,l=e.createContext,r=e.useState,u=e.useEffect),e=>(o=e.Route,s=e.Environment,m=e.Device),e=>c=e.useQuery,e=>v=e.useUserBucket]]},["cDcdfi","2R4xv2","5X2em-","nCvudh"]]);
