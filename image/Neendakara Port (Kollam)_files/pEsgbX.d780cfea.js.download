(this.$WP=this.$WP||[]).push(["pEsgbX",(e,t)=>{"use strict";var a,r,l,n,i,c,s,m,o,d,u,p,v,g,E,f,h,b,N,_,R,k,w,y,x,C,T,S,L,D,B,I,V,M,O,A,H,z,q={marginLeft1:"dBhKd",marginRight1:"cCzei",marginTop1:"cbSHg",marginBottom1:"eVjae",marginLeft2:"bGusc",marginRight2:"fksET",marginTop2:"bLFSo",marginBottom2:"cspKb",marginLeft3:"edkls",marginRight3:"eQkGL",marginTop3:"RiTin",marginBottom3:"MLeMj",marginLeft4:"bjDAD",marginRight4:"eyRbR",marginTop4:"faMvo",marginBottom4:"fbrwK",marginLeft5:"cxGsy",marginRight5:"cOCVE",marginTop5:"fBRVc",marginBottom5:"eXrsm",marginLeft6:"daVLy",marginRight6:"cSWgH",marginTop6:"eufYP",marginBottom6:"cDHZq",marginLeft7:"eRgrC",marginRight7:"dahXR",marginTop7:"FMwqw",marginBottom7:"eXqEW",marginLeft8:"civSC",marginRight8:"frWqN",marginTop8:"cAQlX",marginBottom8:"chJfh",marginLeft9:"frDlr",marginRight9:"bTXxI",marginTop9:"dthya",marginBottom9:"bwqlk",marginLeft10:"OOOCl",marginRight10:"LWpUV",marginTop10:"fyHai",marginBottom10:"bSjHJ"};function G(e){for(var t={},a=1;a<=10;a++)t[`spacing-${String(a).padStart(2,"0")}`]=q[`margin${e}${a}`];return t}function W({margin:e,marginX:t,marginY:a,marginTop:r,marginBottom:l,marginLeft:n,marginRight:i}){var s=r||a||e,m=l||a||e,o=n||t||e,d=i||t||e;return c(s&&R.top[s],m&&R.bottom[m],o&&R.left[o],d&&R.right[d])}var X=({color:e="inherit",size:t="inherit",...a},l=!1)=>{var n="inherit"!==t?`${t}px`:"1em",{isRtl:i}=r.useContext(u).locale;return{viewBox:"0 0 24 24",width:n,height:n,className:c("bDFSd d Vb",W(a),"inherit"===e&&"ymbyq","primaryIcon"===e&&"XHxQa","secondaryIcon"===e&&"dZxVn","onDarkIcon"===e&&"dRJTS","primarySelectedIcon"===e&&"CYIDi","activeMapPinIcon"===e&&"cFxQv","bubbleIcon"===e&&"dWmWj","starIconFilled"===e&&"sFBYx","starIconEmpty"===e&&"Stndk","dragIcon"===e&&"eSOtO","dangerIcon"===e&&"frovT","verifiedCheckMarkIcon"===e&&"coqqe","accentPurpleText"===e&&"cYGZX","onLightText"===e&&"bVlNw","plusIcon"===e&&"ehGNF","textDisabled"===e&&"dasoo",!l&&i&&"eeDcX")}},j=e=>r.createElement("svg",X(e),r.createElement("path",{d:"M7.4 5.6l6.4 6.4-6.4 6.3 1.4 1.4 7.8-7.7-7.8-7.8z"})),P=e=>r.createElement("svg",X(e),r.createElement("path",{d:"M16.6 5.6L10.2 12l6.4 6.3-1.4 1.4L7.4 12l7.8-7.8z"})),F=e=>r.createElement("svg",X(e),r.createElement("path",{d:"M4.422 2v20l7.589-3.731L19.578 22V2H4.422zm12.991 16.519l-5.4-2.663-5.426 2.667V4.165h10.826v14.354z"}),r.createElement("path",{d:"M10.435 10.952l-.783 2.396a.194.194 0 00.186.255c.038 0 .078-.01.115-.037l2.052-1.481 2.053 1.481a.196.196 0 00.116.037c.121 0 .23-.118.186-.255l-.784-2.396 2.055-1.482c.152-.111.073-.351-.117-.351h-2.537l-.783-2.398a.195.195 0 00-.188-.134.196.196 0 00-.187.134l-.783 2.398H8.497c-.189 0-.268.24-.116.351l2.054 1.482z"})),U=e=>r.createElement("svg",X(e),r.createElement("path",{d:"M1.998 6.999a3 3 0 013.004-2.998h6v2h-6a1 1 0 00-1.004.998v12.003c0 .55.448.999 1.004.999h11.996c.559 0 1.004-.451 1.004-.999v-6.003h2v6.003a3.002 3.002 0 01-3.004 2.999H5.002a3.001 3.001 0 01-3.004-2.999V6.999z"}),r.createElement("path",{d:"M18.545 3.999c-.42 0-.855.174-1.18.496l-.061.06 2.129 2.129.127-.126a1.498 1.498 0 00-.238-2.316l-.008-.004-.008-.006a1.3 1.3 0 00-.761-.233zm-.525 4.098l-2.131-2.13-5.041 5.026-.6 2.752 2.736-.616 5.036-5.032zm-2.067-5.018a3.69 3.69 0 012.592-1.08c.65 0 1.316.182 1.904.59a3.495 3.495 0 01.523 5.383l-6.984 6.98-4.49 1.012a1.037 1.037 0 01-.181.03c-.054.004-.101.004-.104.004-.734 0-1.357-.678-1.183-1.469l.988-4.537 6.935-6.913z"})),J=e=>r.createElement("svg",X(e),r.createElement("path",{d:"M3.025 9.963c-.566 0-1.025.459-1.025 1.025v9.732h2.051v-9.732c0-.566-.459-1.025-1.026-1.025zM21.493 9.111a2.05 2.05 0 00-1.546-.703h-4.306l.541-2.67c.122-.606-.032-1.228-.424-1.706s-.97-.753-1.588-.753h-2.348l-5.72 7.358V20.72h12.59a2.038 2.038 0 002.027-1.74l1.261-8.241a2.045 2.045 0 00-.487-1.628zm-2.799 9.557H8.154v-7.326l4.672-6.01h1.345l-1.037 5.128 6.816-.015-1.256 8.223z"})),Y="euBmX",K=115,Q=e=>{var t=e.replace(/\n/g," ");if(t.length<=K)return t;var a=(e=>e.substr(0,K))(t);if(!e.includes("")||a.includes(""))return a;var r=t.indexOf(""),l=t.substr(r-K,K),n=Math.max(0,l.indexOf(" "));return`...${l=l.substr(n,r-n)}`},$=({item:e,index:t,numReviews:r,servletName:n,onClick:s})=>{var m=1===r,d=2===r,u=l();return a.createElement(i,{onVisible:f((()=>{u({module:n,action:"supplier_review_scroll",context:(t+1).toString()})}),100)},(r=>{return a.createElement("div",{className:c(m?"eAmPV":d?"OXGAi":!d&&"fpOxh","fHrnS B1 Z BB F_","reviewContainer"),key:e.reviewId},a.createElement("img",{src:e.avatarUrl,alt:e.screenName,className:m?"bLhGz":"DuhEw"}),a.createElement("div",{className:c(m?"cDHAU":d?"bSARd":!d&&"eUcRC")},a.createElement("div",null,e.screenName),a.createElement("div",{className:"duvHo b"},e.location),a.createElement("span",{className:c("eYgRf",Y)},a.createElement(x,{color:"primaryIcon"})),e.publishedReviews,a.createElement("span",{className:c("dtqUx",Y)},a.createElement(C,{color:"primaryIcon"})),e.helpfulVotes),a.createElement("div",{ref:r,className:m?"bqHhH":""},a.createElement("div",{className:"dWWbH b o W q"},e.displayTitle),a.createElement("div",{className:"glUdV"},a.createElement(h,{variant:"supporting-01"},a.createElement(E,{contentLanguage:"''"},a.createElement("span",{dangerouslySetInnerHTML:{__html:(l=Q(e.displayText||""),(l||"").replace(/[&<>"'\n\u0086\u0087]|&#?[0-9a-zA-Z]+;/g,(e=>T[e]||e)))}}),(e.displayText||"").length>K&&a.createElement("span",{dangerouslySetInnerHTML:{__html:"&hellip;"}})))),a.createElement(o,{onClick:()=>s(e,t),marginTop:"spacing-02"},a.createElement(v,{id:"common_Read_more"}))));var l}))},Z="eMkuB Cj",ee=({avatarUrl:e,screenName:t,publishedReviews:r,helpfulVotes:l})=>a.createElement("div",{className:"dedXv"},a.createElement("img",{src:e,className:"fboSj Rb",alt:""}),a.createElement("div",{className:"ekJwp"},t,a.createElement("div",null,a.createElement("span",{className:c("yuJhU",Z)},a.createElement(x,null)),r,a.createElement("span",{className:c("bpvJp",Z)},a.createElement(C,null)),l))),te=e=>r.createElement("svg",X(e),r.createElement("path",{d:"M17.5 3h-11c-.3 0-.5.2-.5.5v17c0 .3.2.5.5.5h11c.3 0 .5-.2.5-.5v-17c0-.3-.2-.5-.5-.5zM16 18H8V6h8v12z"})),ae=({rating:e,relativePublishedDate:t,dateText:r,mobile:l})=>e?a.createElement("div",{className:"fFmkb MC"},a.createElement(s,{rating:e}),a.createElement("span",{className:"BTnyM"},a.createElement(v,{id:"relative_dates_reviewed_caps_fffff175",args:{0:t||r||""}})),l&&a.createElement("span",{className:"bBYQl _T q"},a.createElement("span",{className:"bSPsr Nb"},a.createElement(D,null)),a.createElement(v,{id:"via_mobile_15d0"}))):null,re=({review:e})=>e?a.createElement("div",{className:"eaBJc"},a.createElement(B,{rating:e.rating||0,relativePublishedDate:e.relativePublishedDate||"",dateText:e.dateText||"",mobile:e.mobile||!1}),a.createElement("div",{className:"fgGqR b"},e.displayTitle),null!==e.productName&&a.createElement(h,{variant:"supporting-01",marginBottom:"spacing-02"},a.createElement(v,{id:"attractions_review_of_activity",args:{activityName:a.createElement("span",{className:"bVJmE"},e.productName||"")}})),void 0!==e.displayText&&a.createElement(h,{variant:"supporting-01",marginBottom:"spacing-02"},e.displayText),null!==e.experienceDate&&a.createElement("div",{className:"eDrzk"},a.createElement("span",{className:"dtdrA b"},a.createElement(v,{id:"supplier_trust_module_date_of_experience"})),e.experienceDate),(e.photoUrls||[]).map((t=>a.createElement("img",{alt:e.productName,key:t,src:t,className:"eNsdv"}))),a.createElement("div",{className:"bxLRv i"},a.createElement(v,{id:"userreviewbody_26ec"}))):null,le=({onClose:e,review:t})=>a.createElement(b,{width:"800px",closeIconColor:"TA_GREEN_DARK",onClose:e},a.createElement(L,{avatarUrl:t.avatarUrl||"",screenName:t.screenName||"",publishedReviews:t.publishedReviews||0,helpfulVotes:t.helpfulVotes||0}),a.createElement(I,{review:t})),ne="fprbg b Cj",ie=({count:e})=>e>5?a.createElement("p",{className:ne},a.createElement(v,{id:"supplier_trust_module_explanation_more_than_5_reviews"})):0===e?a.createElement("p",{className:ne},a.createElement(v,{id:"supplier_trust_module_explanation_no_review"})):a.createElement("p",{className:ne},a.createElement(v,{id:"supplier_trust_module_explanation_5_or_less_reviews"})),ce=({supplierData:e,servletName:t,modalOpen:r,clickedReview:l,onClick:n,onClose:i})=>{var s="MOBILE"===a.useContext(p).viewportCategory,o=a.useRef(null),u=a.useRef(null),E=a.useRef(null),[f,h]=a.useState(!1),[b,N]=a.useState(!0),{localize:_}=g();return e?a.createElement("div",{className:"eGQAD Gi"},a.createElement("div",{className:"fuOnd b Cj"},a.createElement(v,{id:"supplier_trust_module_title"})),a.createElement("div",{className:"datbI"},a.createElement(ie,{count:e.productReviewCount}),a.createElement("div",{className:"RxPlG Gi"},a.createElement("div",{className:"rxOAt b Cj"},a.createElement(v,{id:"attractions.merchandising.by_non_imperative",args:{supplier:e.supplierName||""}})),a.createElement("div",{className:"fKibD"},a.createElement(m,{rating:e.overallRating,numReviews:e.totalReviewCount,url:"#REVIEWS"})),e.hasCertificateOfExcellence&&a.createElement("div",null,a.createElement("span",{className:"duSXN"},a.createElement(y,{color:"primaryIcon"})),a.createElement("span",{className:"eoTAY"},a.createElement(v,{id:"CertExcellence_ffffdc53"}))),!s&&f&&a.createElement("span",{className:"cEbHV"},a.createElement(d,{variant:"primary-border","aria-label":_.string("common_Previous"),onClick:()=>{o.current&&(o.current.scrollLeft-=245)},ref:E,icon:w})),!s&&e.supplierReviews.length>3&&b&&a.createElement("span",{className:"bdkfY"},a.createElement(d,{variant:"primary-border","aria-label":_.string("common_Next"),onClick:()=>{o.current&&(o.current.scrollLeft+=245)},ref:u,icon:k})),a.createElement("div",{onScroll:()=>{if(o.current){o.current.scrollLeft<=0?h(!1):N(!0);var e=Math.ceil(o.current&&o.current.scrollLeft);o.current&&e>=o.current.scrollWidth-o.current.offsetWidth?N(!1):o.current&&o.current.scrollLeft>0&&h(!0)}},className:c("fGyAs f","tourOperatorReviews"),ref:o},(e.supplierReviews||[]).map(((r,l)=>a.createElement(S,{key:r.reviewId,index:l,item:r,numReviews:e.supplierReviews.length,servletName:t,onClick:n}))),r&&a.createElement(V,{onClose:i,review:l}))))):null},se=({servletName:e,returnEmpty:t,supplierData:r,modalOpen:n,clickedReview:c,onClick:s,onClose:m})=>{var o=l();return a.createElement(i,{onVisible:()=>{o({module:e,action:"in_view"})}},(l=>a.createElement("div",{ref:l},!t&&a.createElement(M,{supplierData:r,servletName:e,modalOpen:n,clickedReview:c,onClick:s,onClose:m}))))},me=()=>{var e=_(),t={query:H,variables:{locationId:(null==e?void 0:e.supplierId)||0}},[r]=N(t);return a.useMemo((()=>{if(!e)return null;var{data:t}=r,a=t&&t.coeAward&&t.coeAward[0]&&t.coeAward[0].locations&&t.coeAward[0].locations[0];return{...e,hasCertificateOfExcellence:a===e.supplierId}}),[r,e])},oe="SupplierTrustModule",de=()=>{var e=l(),[t,r]=a.useState(!1),[i,c]=a.useState({}),s=a.useCallback(((t,a)=>{e({module:oe,action:"click_read_more",context:(a+1).toString()}),c(t),r(!0)}),[e]),m=a.useCallback((()=>{e({module:oe,action:"click_close"}),r(!1),c({})}),[e]),o=z();return n("attractions_supplier_trust_module_v2")?o&&o.supplierId&&o.supplierReviews&&0!==o.supplierReviews.length?a.createElement(O,{servletName:oe,returnEmpty:!1,supplierData:o,modalOpen:t,clickedReview:i,onClick:s,onClose:m}):null:a.createElement(O,{servletName:oe,returnEmpty:!0,supplierData:o,modalOpen:t,clickedReview:i,onClick:s,onClose:m})};return[()=>{R={top:G("Top"),bottom:G("Bottom"),left:G("Left"),right:G("Right")},k=j,w=P,y=F,x=U,C=J,T={"":'<span class="ecDvG Gj">',"":"</span>","\n":"<br>","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},S=$,L=ee,D=te,B=ae,I=re,V=le,M=ce,O=se,(A=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"COEAwardQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"coeAward"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requests"},"value":{"kind":"ListValue","values":[{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"locations"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}]}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":124}}')).__key=0xc5ceb54fc5c9,H=A,z=me,e("default",de)},[e=>(a=e,r=e.default),e=>l=e.useGARecorder,e=>n=e.featureIsEnabled,e=>i=e.HasBeenVisible,e=>c=e.default,e=>(s=e.BubbleRating,m=e.BubbleRatingWithReviewCount),e=>(o=e.BorderlessButton,d=e.CircularButton),e=>(u=e.Environment,p=e.Device),e=>(v=e.default,g=e.useLocalize),e=>E=e.DirectionalText,e=>f=e.useDebouncedCallback,e=>h=e.default,e=>b=e.default,e=>N=e.useQuery,e=>_=e.useSupplierTrustData]]},["cDcdfi","fsml46","-i3PJS","BLrxBS","jSLlaY","MBK0so","7yGKf-","2R4xv2","0DsHEV","miRpRf","gsKhh7","VP50Wc","O8LbtK","5X2em-","f98D2q"]]);
