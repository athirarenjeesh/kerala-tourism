(this.$WP=this.$WP||[]).push(["U-DhDC",(e,i)=>{"use strict";var t,s,n,o,r,a,c,l,d,u,v,p,m,k={tripId:0},S={Home:"HomeFeed",Profile:"ProfileFeed",Attractions:"AttractionList",Attraction_Review:"AttractionDetail",Attraction_Products:"AttractionList",AttractionProductReview:"AttractionProductReview",Hotels:"HotelList",SmartDeals:"HotelList",HotelHighlight:"HotelList",HotelsList:"HotelList",HotelsNear:"HotelList",Vacation_Packages:"HotelList",Hotel_Review:"HotelDetail",Restaurants:"RestaurantList",Restaurant_Review:"RestaurantDetail",ShowUserReviews:"ShowUserReview",ShowUserReviewsHotels:"ShowUserReview",ShowUserReviewsRestaurants:"ShowUserReview",ShowUserReviewsAttractions:"ShowUserReview",Recent:"Recent",Forums:"Forums",ShowTopic:"Forums",ShowForum:"Forums",Trips:"Trips",Map:"Map",MySaves:"MySaves",LastMinute:"HotelList",LocalMaps:"Map",LocalMapsRedesign:"Map",VacationRentalReview:"VacationRentalDetail"},C=e=>e&&S[e]?S[e].toUpperCase():void 0,w=e=>e&&(C(e)||C(e.replace(/^Mobile/,""))),h=({source:e,pageAsContext:i,saveObject:r,trackingContext:a,withSaveSession:l,withOrganizeSession:v})=>{var[{page:m}]=t.useContext(n),{sessionUuid:k,sessionOrder:S,incrementOrder:C}=t.useContext(c),{sessionUuid:h,sessionOrder:O,incrementOrder:R}=t.useContext(d),f=t.useContext(o).impressionId||"",g=a||i&&m||void 0,{id:U,type:x}=r||{},{tripId:H}=t.useContext(u),T=t.useMemo((()=>({detailId:U?`${U}`:void 0,saveType:x,tripId:H})),[U,x,H]),A=t.useMemo((()=>l?{sessionType:"SAVE",sessionUuid:k,sessionOrder:S}:v?{sessionType:"ORGANIZE",sessionUuid:h,sessionOrder:O}:null),[O,h,S,k,v,l]),[,I]=s(p);return[t.useCallback(((i,t)=>{var s;l?C():v&&R();var n=T;t&&(n={detailId:`${t.id}`,saveType:t.type});var o,r,a=window.location.pathname,c="Unknown"===g?(null==(s=a.match(/^\/([a-zA-Z0-9_]+)/))?void 0:s[1])||"Home":g,d={elementClick:i.elementClick&&{puid:f,...n,context:c,...A,...i.elementClick},filterClick:i.filterClick&&{puid:f,...i.filterClick},modalSuccess:i.modalSuccess&&{puid:f,...T,context:c,...A,...i.modalSuccess},overflowClick:i.overflowClick&&{puid:f,...i.overflowClick,...A},overflowSuccess:i.overflowSuccess&&{puid:f,...A,...T,...i.overflowSuccess},linkReferenceClick:i.linkReferenceClick&&{puid:f,...i.linkReferenceClick}};return I({interaction:{[e]:(o=d,r=o,["elementClick","modalSuccess"].forEach((e=>{r[e]&&r[e].context&&(r[e].context=w(r[e].context)||null),r[e]&&r[e].saveType&&(r[e].saveType=r[e].saveType.toUpperCase()),r[e]&&r[e].action&&(r[e].action=r[e].action.toUpperCase())})),["elementClick","filterClick","modalSuccess","overflowClick","overflowSuccess"].forEach((e=>{r[e]&&r[e].element&&(r[e].element=r[e].element.toUpperCase())})),["modalSuccess"].forEach((e=>{r[e]&&r[e].fields&&(r[e].fields=r[e].fields.map((e=>e.toUpperCase())))})),r)}})}),[l,v,f,T,g,A,I,e,C,R]),f]},O=({children:e,source:i,pageAsContext:t,saveObject:s,trackingContext:n,withSaveSession:o,withOrganizeSession:r})=>{var[a,c]=h({source:i,pageAsContext:t,saveObject:s,trackingContext:n,withSaveSession:o,withOrganizeSession:r});return e(a,c)},R=()=>{var[e,i]=t.useState({sessionUuid:r(),sessionOrder:0});return t.useMemo((()=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder,incrementOrder:()=>i((e=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder+1}))),resetSession:()=>i({sessionUuid:r(),sessionOrder:0})})),[e])},f=({children:e})=>{var i=m();return t.createElement(c.Provider,{value:i},e)},g=({children:e})=>{var i=m();return t.createElement(d.Provider,{value:i},e)};return[()=>{a={sessionUuid:r(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},c=t.createContext(a),l={sessionUuid:r(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},d=t.createContext(l),u=t.createContext(k),(v=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogInteraction"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"InteractionV4Input"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"logInteraction"},"name":{"kind":"Name","value":"logInteractionV4"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"interaction"},"value":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}}}],"directives":[]}]}}],"loc":{"start":0,"end":133}}')).__key=19431441965389,p=v,O.defaultProps={pageAsContext:!1,saveObject:void 0,trackingContext:void 0},m=R,e({LogInteractionMutation:p,OrganizeSessionProvider:g,OrganizeSessionTrackingContext:d,SaveSessionProvider:f,SaveSessionTrackingContext:c,SponsorshipTrackingContext:u,TripInteraction:O,getInteractionsContext:w,useTripInteraction:h})},[e=>t=e,e=>s=e.useMutation,e=>n=e.Route,e=>o=e.TripTrackingImpression,e=>r=e.uuid]]},["cDcdfi","5X2em-","2R4xv2","c_rvp5","O-HcBE"]]);
