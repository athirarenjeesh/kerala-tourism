(this.$WP=this.$WP||[]).push(["-ZQddk",(e,n)=>{"use strict";var t,r,a,o,u,i,c,l,s,d,m,h,v,f,g,T,S,p=()=>null!=s&&s.matches?"DARK":"LIGHT",k=e=>null==s?void 0:s.removeEventListener("change",e),y=()=>h,b=(e=!0)=>{var n=c(m);return[h,t.useCallback((e=>n({themeStore:e})),[n])]},O={};function I(e){return new Promise((function(n,t){e.oncomplete=e.onsuccess=function(){return n(e.result)},e.onabort=e.onerror=function(){return t(e.error)}}))}function P(e,n){var t=indexedDB.open(e);t.onupgradeneeded=function(){return t.result.createObjectStore(n)};var r=I(t);return function(e,t){return r.then((function(r){return t(r.transaction(n,e).objectStore(n))}))}}function A(){return v||(v=P("keyval-store","keyval")),v}function D(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A();return n("readonly",(function(n){return I(n.get(e))}))}function x(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A();return t("readwrite",(function(t){return t.put(n,e),I(t.transaction)}))}function w(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A();return n("readwrite",(function(n){return e.forEach((function(e){return n.put(e[1],e[0])})),I(n.transaction)}))}function E(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A();return n("readonly",(function(n){return Promise.all(e.map((function(e){return I(n.get(e))})))}))}function C(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A();return t("readwrite",(function(t){return new Promise((function(r,a){t.get(e).onsuccess=function(){try{t.put(n(this.result),e),r(I(t.transaction))}catch(e){a(e)}}}))}))}function L(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A();return n("readwrite",(function(n){return n.delete(e),I(n.transaction)}))}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return e("readwrite",(function(e){return e.clear(),I(e.transaction)}))}function _(e,n){return e("readonly",(function(e){return e.openCursor().onsuccess=function(){this.result&&(n(this.result),this.result.continue())},I(e.transaction)}))}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A(),n=[];return _(e,(function(e){return n.push(e.key)})).then((function(){return n}))}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A(),n=[];return _(e,(function(e){return n.push(e.value)})).then((function(){return n}))}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A(),n=[];return _(e,(function(e){return n.push([e.key,e.value])})).then((function(){return n}))}var H="theme",j=()=>f(H).then((e=>{if(null!=e&&"object"==typeof e&&null!=e.theme&&null!=e.themePreferenceOrAuto){var{theme:n,themePreferenceOrAuto:t}=e;return{theme:n,themePreferenceOrAuto:t}}})).catch((e=>{console.error("Error getting theme from IndexedDB",e)})),G="dark_mode_on_web_v2_1638372457",U=()=>{var{locale:e}=t.useContext(a),n="en"===e.language,r=l({experimentKeys:[G],skipImpression:!n}),o="test"===(null==r?void 0:r[G])&&n;return{enableTheming:o||!1,canChangeThemes:o}},V="themeChanged",W=e=>null!=e?r[e]:void 0,F=()=>t.useContext(S),J=({initialThemeStore:e,children:n})=>{var a,c,l,d,{canChangeThemes:m,enableTheming:h}=T(),[v,f]=b(h),[y,O]=t.useState(null!=(a=null==(c=null!=e?e:v)?void 0:c.theme)?a:"LIGHT"),[I,P]=t.useState(null!=(l=null==(d=null!=e?e:v)?void 0:d.themePreferenceOrAuto)?l:"AUTO"),A=t.useRef((()=>{}));t.useEffect((()=>()=>k(A.current)),[]);var D=t.useCallback(((e,n)=>{if(h){P(e);var t=document.body;if(null!=t){var a=W(e);t.classList.remove(...Object.values(r).map(String)),null!=a&&t.classList.add(a)}!1!==(null==n?void 0:n.syncToTabs)&&(window.localStorage.setItem(V,e),window.localStorage.removeItem(V));var o,u=t=>{O(t);var r={theme:t,themePreferenceOrAuto:e};!1!==(null==n?void 0:n.saveToService)&&f(r),!1!==(null==n?void 0:n.saveToIndexedDB)&&(e=>{g(H,e).catch((e=>console.error("Error saving theme to IndexedDB",e)))})(r)};"AUTO"===e?(u(p()),k(A.current),A.current=()=>{u(p())},o=A.current,null==s||s.addEventListener("change",o)):(u(e),k(A.current))}}),[f,h]),{serviceWorker:x}=t.useContext(o);t.useEffect((()=>{null!=e?D(e.themePreferenceOrAuto,x?{saveToIndexedDB:!1}:{saveToService:!1}):x?D("AUTO",{saveToIndexedDB:!1,saveToService:!1}):j().then((e=>{null!=e?D(e.themePreferenceOrAuto,{saveToIndexedDB:!1}):D("AUTO",{saveToIndexedDB:!1,saveToService:!1})}))}),[D,x,e]),i("storage",(e=>{var n=e;n.key===V&&null!=n.newValue&&D(n.newValue,{saveToService:!1,saveToIndexedDB:!1,syncToTabs:!1})}));var w=u();t.useEffect((()=>{h&&w({itemType:"theme",customData:JSON.stringify({theme:y})})}),[h,w,y]);var E=t.useMemo((()=>h?{theme:y,themePreferenceOrAuto:I,canChangeThemes:m,setTheme:D}:{theme:"LIGHT",themePreferenceOrAuto:"LIGHT",canChangeThemes:!1,setTheme:()=>{}}),[y,I,h,m,D]);return t.createElement(S.Provider,{value:E},n)},K=({lightSrc:e,darkSrc:n,alt:r,...o})=>{var{cdnPrefix:u}=t.useContext(a),{themePreferenceOrAuto:i}=F(),c="AUTO"===i&&e!==n,l=e=>{if(""!==u)try{return new URL(e,u).href}catch(e){}return e};return t.createElement("picture",null,c&&t.createElement(t.Fragment,null,t.createElement("source",{srcSet:l(n),media:"(prefers-color-scheme: dark)"}),t.createElement("source",{srcSet:l(e)})),t.createElement("img",Object.assign({},o,{src:l("DARK"===i?n:e),alt:r})))};return[()=>{s=null==globalThis.matchMedia?void 0:globalThis.matchMedia("(prefers-color-scheme: dark)"),(d=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"ThemeMutation"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"themeStore"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Theme_ThemeStoreInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"Theme_updateTheme"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"themeStore"},"value":{"kind":"Variable","name":{"kind":"Name","value":"themeStore"}}}],"directives":[]}]}}],"loc":{"start":0,"end":117}}')).__key=0xa3f6ce6bc229,m=d,Object.defineProperty(O,"__esModule",{value:!0}),O.clear=N,O.createStore=P,O.del=L,O.entries=M,f=O.get=D,O.getMany=E,O.keys=B,O.promisifyRequest=I,g=O.set=x,O.setMany=w,O.update=C,O.values=R,T=U,S=t.createContext({theme:"LIGHT",themePreferenceOrAuto:"LIGHT",canChangeThemes:!1,setTheme:()=>{}}),e({ThemeProvider:J,ThemedImage:K,getBodyElementClassName:W,getInitialThemeStoreForServerSideRenderer:y,getInitialThemeStoreForServiceWorkerRenderer:j,useTheme:F})},[e=>t=e.default,e=>r=e.themeClassNames,e=>(a=e.Environment,o=e.Debug),e=>u=e.useImpressionV3Logger,e=>i=e.useWindow,e=>c=e.useStatelessMutation,e=>l=e.default]]},["cDcdfi","RH7wJe","2R4xv2","30t50h","Dg5_-9","OnmvvE","S-RL4Q"]]);
