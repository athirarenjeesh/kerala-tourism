(this.$WP=this.$WP||[]).push(["elqEsp",(e,l)=>{"use strict";var t,n,i,a,u,r,o,d,s,m,c,h,v,g,w,I,f,b,S="eMVst _R w _Z GA",y=({locationId:e,albumId:l,client:g,dataStrategy:y,configuration:E,numItemsInRow:C,numRows:A,getSSISContainerDimensions:P,getAlbumPaneDimensions:R,showAlbumPane:M,showCta:O,overlay:p,hideIndicatorDots:H,actionHandler:T,onHeroClick:W,onThumbnailClick:D,Wrapper:L,noContent:_,thinGeoContent:k,children:B})=>{var N,G,F,$,z,K,Q,q,x,U,V,Y,Z=n.useRef(null),{viewportCategory:J}=n.useContext(a),X=w(),j=g||X,ee=y||"a",le=l||I.ALL_PHOTOS_ALBUM,te=n.useMemo((()=>({locationId:e,albumId:le,client:j,dataStrategy:ee,filter:b,offset:0,limit:20})),[e,le,j,ee]),[ne,ie]=c({query:h,variables:te,pause:!0}),ae={locationId:e,configuration:E,client:j,filter:b},[ue]=i({query:v,variables:ae}),{fetching:re,data:oe,error:de}=ue,se=r(j,ee,e);n.useEffect((()=>{re||de||!oe||((e,l)=>{var t,n="",i=null==e||null==(t=e.mediaAlbum)?void 0:t.album;if(i)if(200!==e.mediaAlbum.status)n=d;else if(0===i.totalMediaCount)n=o;else{var a;n=(null==(a=i.mediaList)?void 0:a[0])?m:s}else n=o;l(n)})(oe,se)}),[re,de,oe,se]);var me=(null==oe||null==(N=oe.mediaWindow)||null==(G=N.windowPanes)||null==(F=G[0])||null==($=F.albums)||null==(z=$[0])?void 0:z.totalMediaCount)||0,ce=null==oe||null==(K=oe.mediaWindow)||null==(Q=K.windowPanes)||null==(q=Q[0])||null==(x=q.albums)?void 0:x[0],he=null==ce?void 0:ce.mediaList,ve=(null==ce?void 0:ce.albumId)===I.THIN_GEO_PHOTO_ALBUM;if(!re&&0===me&&_)return _;var ge=null==oe||null==(U=oe.mediaWindow)||null==(V=U.windowPanes)||null==(Y=V[1])?void 0:Y.albums,we=M&&ge&&ge.map((e=>{var l,t,i,a,r;return{albumId:null==e?void 0:e.albumId,title:null==e?void 0:e.name,count:null==e?void 0:e.totalMediaCount,thumbnail:(t=null==e||null==(l=e.mediaList)?void 0:l[0],i=R(J),a=null==t?void 0:t.photoSizes,r=a&&u(i.clientWidth,i.clientHeight,a,{getImageBasedOnClientInfo:!0,allowedStretch:0}),r?n.createElement("div",{className:S,style:{backgroundImage:`url(${r.url})`}}):n.createElement("div",null))}})),Ie=e=>{var l,t,n;if(re)return null;if(he&&he[e])return he[e];var i,a,u=(i=e,a=Math.floor(i/20),null!=ne&&ne[a]?null==ne?void 0:ne[a]:(ie({offset:20*a+1,limit:20}),{fetching:!0,data:null}));return null!=u&&u.fetching?null:null==u||null==(l=u.data)||null==(t=l.mediaAlbumPage)||null==(n=t.mediaList)?void 0:n[e%20]},fe=n.createElement(n.Fragment,null,n.createElement(t,{key:e,itemRenderer:e=>{var l=Ie(e);return l?(e=>{var l=P(J),t=Z.current?{w:Z.current.clientWidth,h:Z.current.clientHeight}:{w:l.clientWidth,h:l.clientHeight},i=e.photoSizes,a=i&&u(t.w,t.h,i,{getImageBasedOnClientInfo:!0,allowedStretch:0});return a?n.createElement(n.Fragment,null,n.createElement("div",{className:S,style:{backgroundImage:`url(${a.url})`},onClick:()=>{W&&e.mediaId&&e.type&&!ve&&W({id:e.mediaId,type:f(e.type)})}})):n.createElement("div",null)})(l):null},thumbnailRenderer:e=>{var l=Ie(e);return l?(e=>{var l=e.photoSizes,t=l&&u(60,50,l,{getImageBasedOnClientInfo:!0,allowedStretch:0});return t?n.createElement(n.Fragment,null,n.createElement("div",{className:S,style:{backgroundImage:`url(${t.url})`},onClick:()=>{D&&D(e.mediaId)}})):n.createElement("div",null)})(l):null},totalCount:me,alwaysShowArrows:!0,hideIndicatorDots:H,wrap:!1,showCta:!ve&&O,overlay:ve?"thinGeoMessaging":p,numItemsInRow:C,numRows:Number(A),setCarouselRef:e=>{Z.current=e},albums:we||void 0,actionHandler:T},B),ve&&k);return L?n.createElement(L,null,fe):fe},E=e=>{switch(e){case"MOBILE":return{clientWidth:415,clientHeight:200};case"TABLET":case"DESKTOP":default:return{clientWidth:620,clientHeight:380}}},C=e=>{switch(e){case"MOBILE":return{clientWidth:0,clientHeight:0};case"TABLET":return{clientWidth:360,clientHeight:130};case"DESKTOP":default:return{clientWidth:180,clientHeight:260}}};return[()=>{b=g(),y.defaultProps={configuration:"mm",numItemsInRow:10,numRows:2,getSSISContainerDimensions:E,getAlbumPaneDimensions:C,overlay:"visible",hideIndicatorDots:!0},e("default",y)},[l=>{t=l.MediaWindow,e("mwActions",l.mwActions)},e=>n=e,e=>i=e.useQuery,e=>a=e.Device,e=>u=e.getSource,e=>(r=e.useMediaTracking,o=e.NO_PHOTO,d=e.ERROR_MSG,s=e.PRIMARY_MISSING,m=e.PRIMARY_OK),e=>(c=e.usePaginatedQuery,h=e.windowPageQuery,v=e.windowQuery),e=>(g=e.getMediaFilterToRetrieveAllPhotos,w=e.useClientName,I=e.AlbumTypes,f=e.validateMediaType)]]},["hDoeAJ","cDcdfi","5X2em-","2R4xv2","KwOV1Z","zdk9wF","n4rOEs","wc54S1"]]);
