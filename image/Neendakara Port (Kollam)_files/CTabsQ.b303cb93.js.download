(this.$WP=this.$WP||[]).push(["CTabsQ",(e,t)=>{"use strict";var n,r,a,l,o,i,u,s,c,d,m,f,g,p,v,h,D,k,y,B,E,R,b,P,A,O,I,x,S,w,C,T,M,V,F,L,N,j,H,_={marginLeft1:"dBhKd",marginRight1:"cCzei",marginTop1:"cbSHg",marginBottom1:"eVjae",marginLeft2:"bGusc",marginRight2:"fksET",marginTop2:"bLFSo",marginBottom2:"cspKb",marginLeft3:"edkls",marginRight3:"eQkGL",marginTop3:"RiTin",marginBottom3:"MLeMj",marginLeft4:"bjDAD",marginRight4:"eyRbR",marginTop4:"faMvo",marginBottom4:"fbrwK",marginLeft5:"cxGsy",marginRight5:"cOCVE",marginTop5:"fBRVc",marginBottom5:"eXrsm",marginLeft6:"daVLy",marginRight6:"cSWgH",marginTop6:"eufYP",marginBottom6:"cDHZq",marginLeft7:"eRgrC",marginRight7:"dahXR",marginTop7:"FMwqw",marginBottom7:"eXqEW",marginLeft8:"civSC",marginRight8:"frWqN",marginTop8:"cAQlX",marginBottom8:"chJfh",marginLeft9:"frDlr",marginRight9:"bTXxI",marginTop9:"dthya",marginBottom9:"bwqlk",marginLeft10:"OOOCl",marginRight10:"LWpUV",marginTop10:"fyHai",marginBottom10:"bSjHJ"};function W(e){for(var t={},n=1;n<=10;n++)t[`spacing-${String(n).padStart(2,"0")}`]=_[`margin${e}${n}`];return t}function $({margin:e,marginX:t,marginY:n,marginTop:r,marginBottom:a,marginLeft:l,marginRight:o}){var i=r||n||e,u=a||n||e,c=l||t||e,d=o||t||e;return s(i&&L.top[i],u&&L.bottom[u],c&&L.left[c],d&&L.right[d])}var G=e=>n.createElement("svg",(({color:e="inherit",size:t="inherit",...r},a=!1)=>{var l="inherit"!==t?`${t}px`:"1em",{isRtl:o}=n.useContext(k).locale;return{viewBox:"0 0 24 24",width:l,height:l,className:s("bDFSd d Vb",$(r),"inherit"===e&&"ymbyq","primaryIcon"===e&&"XHxQa","secondaryIcon"===e&&"dZxVn","onDarkIcon"===e&&"dRJTS","primarySelectedIcon"===e&&"CYIDi","activeMapPinIcon"===e&&"cFxQv","bubbleIcon"===e&&"dWmWj","starIconFilled"===e&&"sFBYx","starIconEmpty"===e&&"Stndk","dragIcon"===e&&"eSOtO","dangerIcon"===e&&"frovT","verifiedCheckMarkIcon"===e&&"coqqe","accentPurpleText"===e&&"cYGZX","onLightText"===e&&"bVlNw","plusIcon"===e&&"ehGNF","textDisabled"===e&&"dasoo",!a&&o&&"eeDcX")}})(e),n.createElement("path",{d:"M16.6 5.6L10.2 12l6.4 6.3-1.4 1.4L7.4 12l7.8-7.8z"}));function Y({picker:e,inputField:t,onClose:r,inline:a,alignEdge:l,onReset:o,autoAdvance:i=!0,showResetOnDesktop:f=!1,renderApplyButton:g,fullWidth:p=!1,pickerFooter:v=null}){var{viewportCategory:h}=u(y),k=null==e?void 0:e.renderPicker({setValue:e.setValue,onApply:e.onApply,value:e.value}),B=(t=!1)=>{var a=()=>{null==e||e.onApply(),i||r()};return g?g({onClick:a,disabled:t}):n.createElement(c,{disabled:t,size:"small",onClick:a},n.createElement(x,{id:"phoenix_picker_apply"}))},E=o?n.createElement(d,{onClick:o,variant:"accent"},n.createElement(x,{id:"sng_fusion_list_filters_modal_reset"})):null;return"MOBILE"===h?e?n.createElement(D,{header:t,stickyHeader:!0,slideFrom:a?"right":"bottom",onClose:r,heightOption:"full",closeButtonPosition:a?"left":void 0,closeButtonIcon:a?N:void 0,primaryButton:B(e.isApplyButtonDisabled),secondaryButton:E,footer:e.showFooterDescription&&v&&n.createElement("div",{className:"kSahB"},v)},n.createElement("div",{className:"dKxzB F1"},k||"")):null:n.createElement(n.Fragment,null,a&&e&&n.createElement("div",{className:"booDq"},k),n.createElement(w,null,!a&&null!=e&&e.ref.current?n.createElement(n.Fragment,null,n.createElement(I,{animated:!0,unstyled:!0,position:"below",shiftY:12,arrowType:"none",alignEdge:"center"!==l?l:void 0,target:e.ref.current,autoFocus:!0},n.createElement("div",{className:s("ezMkk Gi B2 Z BC Ra",{UVsKa:p})},k,(e.showApplyButton||e.showFooterDescription)&&n.createElement("div",{className:"ewRGR"},v&&e.showFooterDescription&&n.createElement("div",{className:"ciION"},n.createElement(m,{variant:"supporting-01"},v)),n.createElement("div",{className:"eFHsj"},B(e.isApplyButtonDisabled),f&&E)))),n.createElement(R,{event:"click",callback:r})):null))}function K({pickers:e,autoAdvance:t=!0,onBeforeAdvance:u=(()=>!0),onOpen:s,onClose:c,onComplete:d=(()=>{}),autoOpen:m=!1,autoOpenDelay:p=2e3,inputFieldVariant:v="ENTRY",inline:h=!1,children:D,alignEdge:k="left",mapSurface:y,renderApplyButton:B,showResetOnDesktop:R=!1,fullWidth:P=!1,pickerFooter:A=null}){var O,I,x=a(null),S=a(null),w=a(null),{trackClick:M}=b(),V=C(),F=l((()=>{V&&null!=S.current&&S.current.ref.current.focus()}),[V]),L=l((e=>{e&&w.current?w.current(e):t&&x.current&&S.current&&u(S.current)&&null==x.current()&&(F(),d())}),[t,u,d,F]),N=o((()=>Array.from({length:e.length},(()=>n.createRef()))),[e.length]),j=n.useCallback((e=>{var n=e.onApply?e.onApply():null;t||n?L(n):(F(),d())}),[L,t,F,d]),H=o((()=>e.map(((e,t)=>({...e,setValue:t=>{var n=e.setValue?e.setValue(t):null;L(n)},onApply:()=>j(e),ref:N[t]})))),[e,j,N,L]),_=m&&0===p,{openPicker:W,nextPicker:$,closePicker:G,currentPicker:K,getPickerValues:z,isOpen:q}=function(e,t=!1){var n,[o,i]=r(t?null==(n=e[0])?void 0:n.name:null),u=a(null);u.current=e.find((e=>e.name===o));var s=l((()=>{var t;if(!o)return null;var n=e.findIndex((e=>e===u.current)),r=null==(t=e[n+1])?void 0:t.name;return i(r),r}),[o,e]),c=l((()=>{i(null)}),[i]),d=l((t=>{var n=t||e[0].name;i(n)}),[e]),{trackClick:m}=b();return T("Escape",c),{isOpen:!!o,nextPicker:s,closePicker:c,openPicker:d,getPickerValues:e=>{var t=u.current;return{isOpen:e.name===(null==t?void 0:t.name),isDimmed:null==t||e!==t,onClick:()=>{m({clientContext:`click${e.name[0].toUpperCase()}${e.name.substring(1)}PickerButton`}),e.name===(null==t?void 0:t.name)?i(null):i(e.name)}}},currentPicker:u.current}}(H,_);!t&&null!=K&&K.name&&null!=(O=S.current)&&O.value&&null!=(I=S.current)&&I.name&&S.current.name!==K.name&&(null==S.current.setValue||S.current.setValue(S.current.value)),x.current=$,S.current=K,w.current=W,i((()=>{var e=m&&!_&&w.current?setTimeout(w.current,p):null;return()=>clearTimeout(e)}),[m,p,_]),i((()=>{K&&(M({clientContext:y?"mapDatepicker":"pickerOpened",clientParameter:K.name}),null==s||s(K))}),[K,M,s,y]);var X=()=>{F(),G(),K&&(null==c||c(K))},U=(e=!1)=>n.createElement("div",null,n.createElement(g,{variant:v},H.map((e=>e.renderButton(null==K?void 0:K.name,function(e,t,n){return{selected:!n.isDimmed,onClick:n.onClick,key:e.name,ref:e.ref}}(e,0,z(e)))))),e&&n.createElement("div",{className:"ecGdT"},n.createElement(f,{marginY:"spacing-05"}))),J=null==K?void 0:K.onReset,Z=J?()=>{J(),L("startDate")}:void 0,Q=()=>n.createElement(E,{events:["onClick","onTouchStart"]},U(),n.createElement(Y,{picker:K,inputField:U(!0),onClose:X,inline:h,alignEdge:k,onReset:Z,autoAdvance:t,showResetOnDesktop:R,renderApplyButton:B,fullWidth:P,pickerFooter:A}));return T("Escape",X),D?D({renderPickerFlow:Q,currentPicker:K,closePicker:G}):Q()}function z(e,t,r,a,l,o,i,u){return r?n.createElement(p,Object.assign({date:o?e:t},i)):o?n.createElement(v,Object.assign({from:a?null:e,to:a?null:t,disabled:u},i)):null}function q({startDate:e,endDate:t,isDefaultDates:r,setDates:a,resetDates:l,maxRangeDays:i,disableBefore:s,fromMonth:c,disabled:d=!1}){var{viewportCategory:m}=u(y),f="MOBILE"===m,g="DESKTOP"===m;return o((()=>{var o=a=>({setValue:o})=>n.createElement(M,{fromMonth:c||new Date,monthRange:f?13:12,numberOfMonths:g?2:1,maxRangeDays:null==i?30:i,onDateReset:r?void 0:l,startDate:e,endDate:t,layoutStyle:f?"infiniteVerticalScroll":"paginated",onDateSelect:o,isEndDate:a,disableBefore:s||new Date,fullWidth:!0});return[{name:"startDate",value:e,setValue:e=>{a(e,!0)},onApply:()=>{r&&a(e,!0)},renderButton:(n,a)=>z(e,t,n,r,0,!0,a,d),renderPicker:o()},{name:"endDate",value:t,setValue:t=>t<e?(a(t,!0),"endDate"):(a(t,!1),null),renderButton:(n,a)=>z(e,t,n,r,0,!1,a,d),renderPicker:o(!0)}]}),[d,t,r,g,f,l,a,e,i,s,c])}function X({startDate:e,endDate:t,isDefaultDates:r,setDates:a,resetDates:l,maxRangeDays:i,disableBefore:s,fromMonth:c,disabled:d=!1,useHeatMapData:m=(()=>null),onReset:f}){var{viewportCategory:g}=u(y),p="MOBILE"===g,h="DESKTOP"===g;return o((()=>{var o=({setValue:a})=>{var o=m();return n.createElement(M,{fromMonth:c||new Date,monthRange:p?13:12,numberOfMonths:h?2:1,maxRangeDays:null==i?30:i,onDateReset:r?void 0:l,startDate:e,endDate:t,layoutStyle:p?"infiniteVerticalScroll":"paginated",onDateSelect:a,disableBefore:s||new Date,fullWidth:!0,heatMapData:o})};return{name:"dateRange",value:e,setValue:e=>a(e)?null:"dateRange",renderButton:(a,l)=>function(e,t,r,a,l,o,i,u){return n.createElement(v,Object.assign({from:a?null:e,to:a?null:t,disabled:u},i))}(e,t,0,r,0,0,l,d),renderPicker:({setValue:e})=>n.createElement(o,{setValue:e}),onReset:f}}),[d,t,r,h,p,l,a,e,i,s,c,m,f])}function U({date:e,setDate:t,availableDates:r,isDefaultDates:a,showApplyButton:s,showFooterDescription:c,onReset:d,priceMap:m}){var{viewportCategory:f}=u(y),g="MOBILE"===f,v="DESKTOP"===f,h=l((e=>{if(!r)return!1;var t=`${e.getDate()}`.padStart(2,"0"),n=`${e.getMonth()+1}`.padStart(2,"0"),a=`${e.getFullYear()}-${n}-${t}`;return!r.has(a)}),[r]),D=h(e)&&r?(e=>{if(!e)return null;for(var t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=e.values(),a=r.next();!a.done;){var[l,o,i]=a.value.split("-").map((e=>parseInt(e,10))),u=new Date(l,o-1,i);if(u>=n)return u;a=r.next()}return null})(r):e;return i((()=>{D&&D.getTime()!==e.getTime()&&t(D)}),[e,D,t]),o((()=>({name:"date",value:D,showApplyButton:s,showFooterDescription:c,setValue:e=>{t(e)},onApply:()=>(a&&t(e),null),onReset:d,renderButton:function(e,t){return n.createElement(p,Object.assign({date:a?null:D},t))},renderPicker:function({setValue:e}){return n.createElement(V,{fromMonth:new Date,monthRange:24,numberOfMonths:v?2:1,selectedDate:D,layoutStyle:g?"infiniteVerticalScroll":"paginated",onDateSelect:e,fullWidth:!0,disabledDates:h,priceMap:m})}})),[v,g,t,h,s,c,D,a,e,d,m])}var J=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/,Z=e=>{if(null!=e&&J.test(e)){var t=new Date(`${e}T00:00`);if(!isNaN(t.getTime()))return t}return null},Q=(e,t)=>{var n=Z(e);if(null!==n)return n;var r=new Date;return new Date(r.getFullYear(),r.getMonth(),r.getDate()+t)};function ee(e,t,n){var{state:{commerce:r}}=P(),{update:{attractions:{setDates:a}}}=u(B),{trackClick:o}=b(),{startDate:i,endDate:s}=(null==r?void 0:r.attractionCommerce)||{},c=Z(i),d=Z(s),m=l(((t,r)=>{o({clientContext:n?"mapDatepicker":"setAttractionsDates",clientParameter:JSON.stringify({startDate:A(t),endDate:A(r)})}),a(t,r),e({startDate:t,endDate:r})}),[e,a,o,n]),f=l((e=>{m(e,e)}),[m]),g=l((()=>{a(null,null),o({clientContext:"resetAttractionsDates"}),e(null)}),[e,a,o]),p=Q(null==t?void 0:t.startDate,0),v=Q(null==t?void 0:t.endDate,1);return{singleDate:c||p,startDate:c||p,endDate:d||v,isDefaultDates:!(c&&d||null!=t&&t.setByUser),setDateRange:m,setSingleDate:f,resetDates:g}}function te(){var e,{state:{commerce:t},dispatch:n}=P(),{update:{attractions:{setPassengers:r}}}=u(B),{trackClick:a}=b({clientContext:"setAttractionsPax"}),i=null==t||null==(e=t.attractionCommerce)?void 0:e.pax;return{pax:o((()=>{var e=new Map;return i&&i.filter(Boolean).forEach((t=>{e.set(t.ageBand,t.count)})),e}),[i]),setPax:l((e=>{var t=[];e.forEach(((e,n)=>t.push({ageBand:n,count:e}))),a({clientParameter:JSON.stringify({pax:t})});var l=e.get("ADULT")||0,o=e.get("CHILD")||0;r(l,o),n({type:"setAttractionsPax",pax:t})}),[n,a,r])}}function ne(e){var t,n,r,{hotels:a,update:{hotels:{setStayDates:o}}}=u(B),i=l((({checkIn:e,checkOut:t})=>{o(e,t)}),[o]);return null===a||a.defaultDates?(t=Q(null==e?void 0:e.checkIn,0),n=Q(null==e?void 0:e.checkOut,1),r=(null==e?void 0:e.setByUser)||null):(t=a.checkInDate,n=a.checkOutDate,r=!a.defaultDates),{dates:{checkIn:t,checkOut:n},setByUser:r,setDates:i}}function re(e){var t,{hotels:n,update:{hotels:{setGuestInfo:r,setTravelInfo:a}}}=u(B),{defaultRooms:i,defaultAdults:s,defaultChildrenAges:c,checkIn:d,checkOut:m}=o((()=>(e=>{if(null==(null==e?void 0:e.rooms))return j;var t=0,n=[],{rooms:r}=e;return r.filter(Boolean).forEach((e=>{t+=null==e.adults?0:e.adults,null!=e.childrenAges&&n.push(...e.childrenAges.filter(Boolean))})),{defaultRooms:r.length,defaultAdults:t,defaultChildrenAges:n,checkIn:e.checkIn,checkOut:e.checkOut}})(e)),[e]),f=l((({rooms:e,adults:t,childrenAges:l})=>((e,t,n,r,a)=>(l,o,i)=>{var u=O(i,l);null!=n?e(o,l,u):t(r,a,o,l,u)})(r,a,n,d,m)(e,t,l)),[r,a,n,d,m]);return[{rooms:(null==n?void 0:n.rooms)||i,adults:(null==n?void 0:n.adults)||s,childrenAges:(null==n||null==(t=n.childAgesPerRoom)?void 0:t.flat())||c},f]}function ae(){var{update:{hotels:{setTravelInfo:e}}}=u(B);return{setTravelInfo:l((({dates:{checkIn:t,checkOut:n},guests:{rooms:r,adults:a,childrenAges:l}})=>{e(t,n,a,r,O(l,r))}),[e])}}var le=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,l;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(a of t.entries())if(!n.has(a[0]))return!1;for(a of t.entries())if(!e(a[1],n.get(a[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(a of t.entries())if(!n.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(a=r;0!=a--;)if(t[a]!==n[a])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(l=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(n,l[a]))return!1;for(a=r;0!=a--;){var o=l[a];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n},oe=e=>Array.from(e.values()).reduce(((e,t)=>e+t),0);function ie({passengerInfo:e,currentPax:t,setPax:a,showApplyButton:u,queueSelections:s=!0,onReset:c}){var[d,m]=r(t),[f,g]=r(null),{localize:p}=S(),v=s?d:t;i((()=>{s&&m(t)}),[s,t,m]),i((()=>{var n;if(e){var r=!1,l=new Map(t),o=null==(n=e.ageBands)?void 0:n.filter(Boolean);o&&o.length&&(o.forEach((e=>{var n=null!=e.minTravelersPerBooking?e.minTravelersPerBooking:0,a=null!=e.maxTravelersPerBooking?e.maxTravelersPerBooking:10,o=t.get(e.ageBand)||0;o<n?(l.set(e.ageBand,n),r=!0):o>a&&(l.set(e.ageBand,a),r=!0)})),t.forEach(((e,t)=>{o.find((e=>e.ageBand===t))||(l.delete(t),r=!0)}))),r&&a(l)}}),[t,e,a]);var D=l(((e,t)=>{g(null),m((n=>new Map([...n.entries(),[e,t]])))}),[]),k=o((()=>oe(t)),[t]),y=l((t=>{return n=t,!1!==(null==e?void 0:e.requiresAdultForBooking)&&0===n.get("ADULT")&&0===n.get("SENIOR")?(g(p.string("attractions.booking.errors.no_travelers")),!1):0===oe(t)?(g(p.string("attractions.booking.select_travelers_to_see_availability")),!1):!!(e=>{var t=!0;return e.forEach(((e,n)=>{"INFANT"!==n&&e>0&&(t=!1)})),!t})(t)||(g(p.string("exp_booking_no_only_infants")),!1);var n}),[p,e]),B=l((e=>{y(e)&&(g(null),H(e,t)||a(e))}),[t,a,y]),E=l(((e,n)=>{var r=new Map([...t,[e,n]]);B(r)}),[t,B]),R=l((()=>y(v)?(H(v,t)||a(v),null):"pax"),[v,a,y,t]);return o((()=>({name:"pax",showApplyButton:u,value:v,onApply:R,onReset:c,setValue:B,renderButton:function(e,t){return n.createElement(h,Object.assign({guests:k},t))},renderPicker:function(){return e?n.createElement(F,{passengerInfo:e,selections:v,onAgeBandChange:s?D:E,errorMessage:f}):null}})),[f,R,c,e,s,v,E,B,D,u,k])}return e({default:K,useAttractionDates:ee,useAttractionPax:te,useDateRangePicker:X,useDateRangePickers:q,useHotelDates:ne,useHotelGuests:re,useHotelTravelInfo:ae,usePaxPicker:ie,useSingleDatePicker:U}),[()=>{L={top:W("Top"),bottom:W("Bottom"),left:W("Left"),right:W("Right")},N=G,j={defaultRooms:1,defaultAdults:2,defaultChildrenAges:[],checkIn:new Date,checkOut:new Date},H=le,e({default:K,useAttractionDates:ee,useAttractionPax:te,useDateRangePicker:X,useDateRangePickers:q,useHotelDates:ne,useHotelGuests:re,useHotelTravelInfo:ae,usePaxPicker:ie,useSingleDatePicker:U})},[e=>(n=e.default,r=e.useState,a=e.useRef,l=e.useCallback,o=e.useMemo,i=e.useEffect,u=e.useContext),e=>s=e.default,e=>(c=e.default,d=e.BorderlessButton),e=>m=e.default,e=>f=e.default,e=>(g=e.InputField,p=e.DateInputFieldItem,v=e.DateRangeInputFieldItem,h=e.GuestsInputFieldItem),e=>D=e.SlideInModal,e=>(k=e.Environment,y=e.Device,B=e.TravelInfo),e=>E=e.default,e=>R=e.default,e=>(b=e.useTracking,P=e.useEntrypointContext,A=e.ISODateString,O=e.assignHotelChildrenToRooms),e=>I=e.default,e=>(x=e.default,S=e.useLocalize),e=>w=e.AfterConsent,e=>C=e.useKeyboardNavigationMode,e=>T=e.useKeyboardEvent,e=>M=e.default,e=>V=e.default,e=>F=e.default]]},["cDcdfi","jSLlaY","7yGKf-","VP50Wc","jPSRY1","pyjSAG","E1X9WP","2R4xv2","_cZwhS","Dg5_-9","PEYes_","MHKLZN","0DsHEV","lMO0v3","W3_c4H","8xs-IB","LsrV2V","x1tMKy","JTnVyf"]]);
