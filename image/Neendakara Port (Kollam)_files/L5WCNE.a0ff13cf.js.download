(this.$WP=this.$WP||[]).push(["L5WCNE",(e,t)=>{"use strict";var a,r,i,l,o,n,d,m,c,_,E,s,p,I,R,g,T,O,u,b,f,h,v,L,N=({value:e,selected:t,labelText:r,onSelect:l,children:o})=>a.createElement("div",{className:"eEzHz"},a.createElement(i,{value:e,selected:t,onSelect:l,label:a.createElement("span",{className:t?"pQgmP d Vm H4":"clpIk d Vm H4"},r)}),a.createElement("div",{className:"UwStx"},t&&o)),S=({required:e,minLength:t,maxLength:r=250,label:i=(!0===e?a.createElement(n,{id:"social_report_level2_6b"}):a.createElement(d,{id:"social_report_level2_5"})),value:l,onChange:m})=>a.createElement(o,{label:i,value:l,state:l.length>r?"count-error":void 0,characterCountType:"max",onChange:m,minLength:t,maxLength:r}),P=()=>{throw new Error("This reason does not have a label")},A=e=>R[e],C=e=>R[e].id<0,y={marginLeft1:"dBhKd",marginRight1:"cCzei",marginTop1:"cbSHg",marginBottom1:"eVjae",marginLeft2:"bGusc",marginRight2:"fksET",marginTop2:"bLFSo",marginBottom2:"cspKb",marginLeft3:"edkls",marginRight3:"eQkGL",marginTop3:"RiTin",marginBottom3:"MLeMj",marginLeft4:"bjDAD",marginRight4:"eyRbR",marginTop4:"faMvo",marginBottom4:"fbrwK",marginLeft5:"cxGsy",marginRight5:"cOCVE",marginTop5:"fBRVc",marginBottom5:"eXrsm",marginLeft6:"daVLy",marginRight6:"cSWgH",marginTop6:"eufYP",marginBottom6:"cDHZq",marginLeft7:"eRgrC",marginRight7:"dahXR",marginTop7:"FMwqw",marginBottom7:"eXqEW",marginLeft8:"civSC",marginRight8:"frWqN",marginTop8:"cAQlX",marginBottom8:"chJfh",marginLeft9:"frDlr",marginRight9:"bTXxI",marginTop9:"dthya",marginBottom9:"bwqlk",marginLeft10:"OOOCl",marginRight10:"LWpUV",marginTop10:"fyHai",marginBottom10:"bSjHJ"};function w(e){for(var t={},a=1;a<=10;a++)t[`spacing-${String(a).padStart(2,"0")}`]=y[`margin${e}${a}`];return t}function M({margin:e,marginX:t,marginY:a,marginTop:r,marginBottom:i,marginLeft:l,marginRight:o}){var n=r||a||e,d=i||a||e,m=l||t||e,c=o||t||e;return _(n&&T.top[n],d&&T.bottom[d],m&&T.left[m],c&&T.right[c])}var B=e=>r.createElement("svg",(({color:e="inherit",size:t="inherit",...a},i=!1)=>{var l="inherit"!==t?`${t}px`:"1em",{isRtl:o}=r.useContext(m).locale;return{viewBox:"0 0 24 24",width:l,height:l,className:_("bDFSd d Vb",M(a),"inherit"===e&&"ymbyq","primaryIcon"===e&&"XHxQa","secondaryIcon"===e&&"dZxVn","onDarkIcon"===e&&"dRJTS","primarySelectedIcon"===e&&"CYIDi","activeMapPinIcon"===e&&"cFxQv","bubbleIcon"===e&&"dWmWj","starIconFilled"===e&&"sFBYx","starIconEmpty"===e&&"Stndk","dragIcon"===e&&"eSOtO","dangerIcon"===e&&"frovT","verifiedCheckMarkIcon"===e&&"coqqe","accentPurpleText"===e&&"cYGZX","onLightText"===e&&"bVlNw","plusIcon"===e&&"ehGNF","textDisabled"===e&&"dasoo",!i&&o&&"eeDcX")}})(e),r.createElement("path",{d:"M4.503 2a1 1 0 011 1v1.009h14.993v10.994H5.503V22H3.504V3a1 1 0 01.999-1zm1 11.004h12.994V6.008H5.503v6.996z"})),D=()=>a.createElement("div",{className:"fEEie c"},a.createElement("p",{className:"dpzjd b",style:{textAlign:"center"}},a.createElement(n,{id:"social_report_ty2"})," "),a.createElement("p",{className:"DzKvo"},a.createElement(n,{id:"social_report_ty2b"})," ")),V=()=>a.createElement("div",{className:_("fNlOZ c M-","CkSii S4")},a.createElement(n,{id:"social_report_prof_err"})," "),F=({stage:e,onClose:t,children:r})=>a.createElement(E,{title:a.createElement("div",{id:"ReportIAP",className:"dyEPR f u"},a.createElement(O,null),a.createElement("span",{className:"cbIFX PI"},a.createElement(n,{id:"report_problem_ffffff85"}))),onClose:t},"thankyou"===e&&a.createElement(u,null),"error"===e&&a.createElement(b,null),"panel"===e&&a.createElement("div",{className:"efzcn"},a.createElement(l,{name:"ReportIAP",ariaLabelledBy:"ReportIAP"},r))),x={ForumPost:"FORUMPOST",Review:"USERREVIEW",ManagementResponse:"USERREVIEW",Photo:"MEDIA",Video:"MEDIA",Trip:"2",LinkPost:"1",Repost:"3",Profile:"4",LocationTopic:"LOCATION_TOPIC",LocationPosting:"LOCATION_POSTING"},H=({contentType:e,contentId:t,submission:r})=>{var{securityToken:i}=a.useContext(c);return a.useCallback((()=>{if(!r)return Promise.reject(new Error("No submission data!"));var a=x[e],l=new URLSearchParams([["action","reportIAP"],["step","SAVE"],["contentId",t],["voteContentType",a],["comment",r.comment],["reasonId",`${g(r.reason).id}`]]);if(r.suggestedLocationId&&l.set("suggestedLocationId",`${r.suggestedLocationId}`),h.has(a))return((e,t)=>fetch(e,{cache:"no-cache",credentials:"same-origin",method:"POST",redirect:"follow",headers:{"X-Requested-By":t}}))(`/ReportIAP?${l.toString()}`,i);throw new Error("Only legacy inputs are supported through the Lithium-ported iat-reporting! Feel free to add the remaining ones from public.iat-reporting")}),[e,t,i,r])},W=e=>{var[t,r]=a.useState("panel"),i=v(e);return a.useMemo((()=>[t,()=>i().then((()=>{r("thankyou")})).catch((()=>{r("error")}))]),[t,i])},k=(e,t)=>{if("changeReason"===t.type)return{selected:t.payload.reason,validator:t.payload.validator,form:e.form};if("modifyBody"===t.type&&e.selected)return{selected:e.selected,validator:e.validator,form:{...e.form,[e.selected]:t.payload}};throw new Error(`Tried to dispatch action type ${t.type} that does not exist`)},G=e=>{var[t,r]=a.useReducer(k,{selected:e?e.reason:null,validator:e&&e.validator,form:{}});return a.useMemo((()=>{var e=t.selected&&t.form[t.selected]||{comment:void 0};return[{selected:t.selected,disabled:!t.selected||t.validator&&!t.validator(e),form:e},r]}),[t])},U=(e,t)=>a.useMemo((()=>e?{reason:e,comment:t.comment||""}:null),[e,t]),Y=({onBack:e})=>a.createElement(s,{legacyStyled:!0,variant:"secondary",onClick:e,fullWidth:!0},a.createElement(n,{id:"com_fyf_p2_011"})," "),X="MmAhD Nd NE",q=({disabled:e,onBack:t,onSubmit:r})=>{var i="MOBILE"===a.useContext(c).viewportCategory;return a.createElement(a.Fragment,null,i&&a.createElement("div",{className:"vkKaA"},a.createElement(s,{legacyStyled:!0,disabled:!0},null)),a.createElement("div",{className:_("eUFKQ z F",i&&"cKCpu")},t&&a.createElement("div",{className:X},a.createElement(L,{onBack:t})),a.createElement("div",{className:X},a.createElement(s,{legacyStyled:!0,variant:"primary",disabled:e,onClick:r,fullWidth:!0},a.createElement(n,{id:"common_Submit"})))))},K=(e,t)=>a.useCallback((a=>{var r=(a.comment||"").trim();return!(r.length>t||r.length<e)}),[e,t]),z=({selected:e,reason:t,comment:r="",dispatch:i,minLength:l=0,maxLength:o=250})=>{var n=K(l,o);return a.createElement(p,{value:t,selected:e===t,labelText:g(t).label,onSelect:()=>{i({type:"changeReason",payload:{reason:t,validator:n}})}},a.createElement(I,{value:r,onChange:e=>{i({type:"modifyBody",payload:{comment:e.currentTarget.value}})},minLength:l,maxLength:o,required:!!l}))},$=({selected:e,reason:t,dispatch:r,children:i})=>a.createElement(p,{value:t,selected:e===t,labelText:g(t).label,onSelect:()=>{r({type:"changeReason",payload:{reason:t,validator:()=>!1}})}},i);return[()=>{p=N,I=S,R={DUPLICATE_CONTENT:{id:5,label:a.createElement(d,{id:"social_report_reason_photos2"})},WRONG_LOCATION:{id:6,label:a.createElement(n,{id:"report_review_radio_8"})},CLOSED:{id:8,label:a.createElement(n,{id:"report_review_radio_21"})},OTHER:{id:9,label:a.createElement(n,{id:"report_review_radio_19"})},WRITTEN_BY_COMPETITOR:{id:19,label:a.createElement(n,{id:"report_review_radio_10"})},OWNER_RESPONSE:{id:21,label:a.createElement(P,null)},INAPPROPRIATE:{id:22,label:a.createElement(n,{id:"report_review_radio_9"})},NOT_ORIGINAL_REVIEW:{id:24,label:a.createElement(n,{id:"report_review_radio_16"})},NOT_TRAVELERS_OWN:{id:25,label:a.createElement(n,{id:"report_review_radio_13"})},PROMOTIONAL:{id:27,label:a.createElement(n,{id:"report_review_radio_24"})},REVIEW_NOT_CONSISTENT_WITH_RATING:{id:30,label:a.createElement(n,{id:"report_review_radio_12_ver_2"})},LOW_QUALITY:{id:31,label:a.createElement(n,{id:"iap_low_quality_ffffe4e2"})},COPYRIGHT_VIOLATION:{id:32,label:a.createElement(d,{id:"social_content_report_copyright_violation"})},BIASED:{id:37,label:a.createElement(n,{id:"report_review_radio_20"})},MORE_THAN_1_YEAR_AGO:{id:38,label:a.createElement(n,{id:"report_review_radio_11"})},CONTAINS_PRIVATE_INFO:{id:41,label:a.createElement(n,{id:"report_review_radio_18"})},PROFANE_EXPLICIT_HATE_SPEECH:{id:42,label:a.createElement(n,{id:"iap_profane_explicit_or_hate_speech"})},LINK_INCORRECT_OUTDATED_BROKEN:{id:43,label:a.createElement(n,{id:"iap_link_incorrect_outdated_broken"})},NOT_PERSONAL_EXPERIENCE:{id:45,label:a.createElement(n,{id:"iap_not_personal_experience"})},FALSE_MISLEADING_INFO:{id:46,label:a.createElement(n,{id:"iap_false_misleading_info"})},PROMOTES_ILLEGAL_ACTIVITY:{id:47,label:a.createElement(n,{id:"iap_promote_illegal_activity"})},PARTICIPATION_ILLEGAL_ACTIVITY:{id:48,label:a.createElement(n,{id:"iap_participate_illegal_activity"})},LINK_ILLEGAL_ACTIVITY:{id:50,label:a.createElement(n,{id:"iap_link_illegal_activity"})},SELF_PROMOTION_ADVERTISEMENT_SOLICITATION:{id:51,label:a.createElement(n,{id:"iap_forums_self_promotion"})},OFF_TOPIC:{id:52,label:a.createElement(n,{id:"iap_forums_off_topic"})},SPAM:{id:53,label:a.createElement(n,{id:"iap_forums_spam"})},DUPLICATE_FORUM:{id:54,label:a.createElement(n,{id:"iap_forums_duplicate"})},HARASSMENT:{id:55,label:a.createElement(n,{id:"iap_forums_harassment"})},PROFANITY_SEX_VIOLENCE_CRIME_HATE:{id:56,label:a.createElement(n,{id:"iap_forums_profanity_sex_violence_crime_hate"})},MULTIPLE_ACCOUNTS_OR_IMPERSONATION:{id:57,label:a.createElement(n,{id:"iap_forums_multiple_accounts_or_impersonation"})},PERSONAL_INFO:{id:58,label:a.createElement(n,{id:"iap_forums_personal_info"})},COPYRIGHTED:{id:59,label:a.createElement(n,{id:"iap_forums_copyrighted"})},TRIP_COPYRIGHT:{id:60,label:a.createElement(n,{id:"iap_trips_copyrighted"})},TRIP_NOT_TRAVEL_RELATED:{id:61,label:a.createElement(n,{id:"iap_trips_not_travel_related"})},TRIP_ERROR_OR_DISAGREE:{id:62,label:a.createElement(n,{id:"iap_trips_error_or_disagree"})},PROFILE_PROBLEM_WITH_PHOTO:{id:63,label:a.createElement(n,{id:"iap_profile_problem_with_pic"})},PROFILE_PROBLEM_WITH_LINK:{id:64,label:a.createElement(n,{id:"iap_profile_problem_with_link"})},PROFILE_IAP_USERNAME:{id:65,label:a.createElement(n,{id:"iap_profile_username"})},PROFILE_IAP_CONTRIBUTION:{id:66,label:a.createElement(n,{id:"iap_profile_contribution"})},PROFILE_PROBLEM_MY_ACCOUNT:{id:67,label:a.createElement(n,{id:"iap_profile_problem_my_account"})},PROFILE_UNWANTED_MESSAGE:{id:68,label:a.createElement(n,{id:"iap_profile_unwanted_messages"})},REPORT_THIS_REVIEW:{id:-1,label:a.createElement(n,{id:"report_review_radio_1"})},UPDATE_BUSINESS_DETAILS:{id:-2,label:a.createElement(n,{id:"report_review_radio_2"})},REPORT_BUSINESS_CLOSED:{id:-3,label:a.createElement(n,{id:"report_review_radio_3"})},EDIT_REMOVE_RESPONSE:{id:-4,label:a.createElement(n,{id:"report_review_radio_4"})},REPORT_OWNER_CHANGED:{id:-5,label:a.createElement(n,{id:"report_review_radio_5"})},REPORT_PHOTO:{id:-6,label:a.createElement(n,{id:"report_review_radio_6"})},REMOVE_LISTING:{id:-7,label:a.createElement(n,{id:"report_review_radio_7"})},DISAGREE_WITH_INFO:{id:-8,label:a.createElement(n,{id:"report_review_radio_17"})}},g=A,T={top:w("Top"),bottom:w("Bottom"),left:w("Left"),right:w("Right")},O=B,u=D,b=V,f=F,h=new Set(["USERREVIEW","MEDIA","LOCATION_TOPIC","LOCATION_POSTING"]),v=H,L=Y,e({CommentBox:I,CommentOption:z,RedirectOption:$,ReportIAPRadio:p,ReportModal:f,SubmitVoteButton:q,forLabel:g,isOwnerReason:C,useFormToSubmission:U,useLengthValidator:K,useReportFlow:W,useReportForm:G})},[e=>(a=e,r=e.default),e=>(i=e.RadioButton,l=e.RadioGroup),e=>o=e.TextArea,e=>(n=e.default,d=e.UnsafeLocalize),e=>(m=e.Environment,c=e.Device),e=>_=e.default,e=>E=e.Modal,e=>s=e.default]]},["cDcdfi","MsxLpS","7bbexq","0DsHEV","2R4xv2","jSLlaY","E1X9WP","7yGKf-"]]);
